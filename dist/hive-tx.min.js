!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).hiveTx=t()}}(function(){for(var t,e,r=(t=function(t,n){(function(t){"use strict";var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=t,n.INSPECT_MAX_BYTES=50;var o=2147483647;function f(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=new Uint8Array(e);return Object.setPrototypeOf(r,t.prototype),r}function t(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return a(t)}return s(t,e,r)}function s(e,r,i){if("string"==typeof e)return function(e,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var i=0|g(e,r),n=f(i),o=n.write(e,r);return o!==i&&(n=n.slice(0,o)),n}(e,r);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(D(e,ArrayBuffer)||e&&D(e.buffer,ArrayBuffer))return function(e,r,i){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i),Object.setPrototypeOf(n,t.prototype),n}(e,r,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return t.from(n,r,i);var o=function(e){if(t.isBuffer(e)){var r=0|l(e.length),i=f(r);return 0===i.length?i:(e.copy(i,0,0,r),i)}return void 0!==e.length?"number"!=typeof e.length||V(e.length)?f(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),r,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function a(t){return h(t),f(t<0?0:0|l(t))}function u(t){for(var e=t.length<0?0:0|l(t.length),r=f(e),i=0;i<e;i+=1)r[i]=255&t[i];return r}function l(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function g(e,r){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||D(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;for(var o=!1;;)switch(r){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return C(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return M(e).length;default:if(o)return n?-1:C(e).length;r=(""+r).toLowerCase(),o=!0}}function p(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function b(e,r,i,n,o){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),V(i=+i)&&(i=o?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(o)return-1;i=e.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof r&&(r=t.from(r,n)),t.isBuffer(r))return 0===r.length?-1:d(e,r,i,n,o);if("number"==typeof r)return r&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,r,i):Uint8Array.prototype.lastIndexOf.call(e,r,i):d(e,[r],i,n,o);throw new TypeError("val must be string, number or Buffer")}function d(t,e,r,i,n){var o,f=1,s=t.length,h=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;f=2,s/=2,h/=2,r/=2}function a(t,e){return 1===f?t[e]:t.readUInt16BE(e*f)}if(n){var u=-1;for(o=r;o<s;o++)if(a(t,o)===a(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===h)return u*f}else-1!==u&&(o-=o-u),u=-1}else for(r+h>s&&(r=s-h),o=r;o>=0;o--){for(var l=!0,g=0;g<h;g++)if(a(t,o+g)!==a(e,g)){l=!1;break}if(l)return o}return-1}function y(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=e.length;i>o/2&&(i=o/2);for(var f=0;f<i;++f){var s=parseInt(e.substr(2*f,2),16);if(V(s))return f;t[r+f]=s}return f}function w(t,e,r,i){return z(C(e,t.length-r),t,r,i)}function m(t,e,r,i){return z(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function v(t,e,r,i){return m(t,e,r,i)}function E(t,e,r,i){return z(M(e),t,r,i)}function I(t,e,r,i){return z(function(t,e){for(var r,i,n,o=[],f=0;f<t.length&&!((e-=2)<0);++f)i=(r=t.charCodeAt(f))>>8,n=r%256,o.push(n),o.push(i);return o}(e,t.length-r),t,r,i)}function _(t,e,r){return 0===e&&r===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,r))}function T(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o,f,s,h,a=t[n],u=null,l=a>239?4:a>223?3:a>191?2:1;if(n+l<=r)switch(l){case 1:a<128&&(u=a);break;case 2:128==(192&(o=t[n+1]))&&(h=(31&a)<<6|63&o)>127&&(u=h);break;case 3:o=t[n+1],f=t[n+2],128==(192&o)&&128==(192&f)&&(h=(15&a)<<12|(63&o)<<6|63&f)>2047&&(h<55296||h>57343)&&(u=h);break;case 4:o=t[n+1],f=t[n+2],s=t[n+3],128==(192&o)&&128==(192&f)&&128==(192&s)&&(h=(15&a)<<18|(63&o)<<12|(63&f)<<6|63&s)>65535&&h<1114112&&(u=h)}null===u?(u=65533,l=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),n+=l}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=A));return r}(i)}t.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(t,r),42===t.foo()}catch(e){return!1}}(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(t,e,r){return s(t,e,r)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(t,e,r){return function(t,e,r){return h(t),t<=0?f(t):void 0!==e?"string"==typeof r?f(t).fill(e,r):f(t).fill(e):f(t)}(t,e,r)},t.allocUnsafe=function(t){return a(t)},t.allocUnsafeSlow=function(t){return a(t)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,r){if(D(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),D(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(e)||!t.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var i=e.length,n=r.length,o=0,f=Math.min(i,n);o<f;++o)if(e[o]!==r[o]){i=e[o],n=r[o];break}return i<n?-1:n<i?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var i;if(void 0===r)for(r=0,i=0;i<e.length;++i)r+=e[i].length;var n=t.allocUnsafe(r),o=0;for(i=0;i<e.length;++i){var f=e[i];if(D(f,Uint8Array)&&(f=t.from(f)),!t.isBuffer(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(n,o),o+=f.length}return n},t.byteLength=g,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},t.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):function(t,e,r){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return U(this,e,r);case"latin1":case"binary":return B(this,e,r);case"base64":return _(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},r&&(t.prototype[r]=t.prototype.inspect),t.prototype.compare=function(e,r,i,n,o){if(D(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),r<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&r>=i)return 0;if(n>=o)return-1;if(r>=i)return 1;if(this===e)return 0;for(var f=(o>>>=0)-(n>>>=0),s=(i>>>=0)-(r>>>=0),h=Math.min(f,s),a=this.slice(n,o),u=e.slice(r,i),l=0;l<h;++l)if(a[l]!==u[l]){f=a[l],s=u[l];break}return f<s?-1:s<f?1:0},t.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},t.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},t.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},t.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return y(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":return m(this,t,e,r);case"latin1":case"binary":return v(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function U(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function B(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function S(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=j[t[o]];return n}function R(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function x(e,r,i,n,o,f){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>o||r<f)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function k(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function O(t,e,r,i,n){return e=+e,r>>>=0,n||k(t,0,r,4),c.write(t,e,r,i,23,4),r+4}function L(t,e,r,i,n){return e=+e,r>>>=0,n||k(t,0,r,8),c.write(t,e,r,i,52,8),r+8}t.prototype.slice=function(e,r){var i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(r=void 0===r?i:~~r)<0?(r+=i)<0&&(r=0):r>i&&(r=i),r<e&&(r=e);var n=this.subarray(e,r);return Object.setPrototypeOf(n,t.prototype),n},t.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i},t.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},t.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},t.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),c.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),c.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),c.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),c.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,r,i){t=+t,e>>>=0,r>>>=0,i||x(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[e]=255&t;++o<r&&(n*=256);)this[e+o]=t/n&255;return e+r},t.prototype.writeUIntBE=function(t,e,r,i){t=+t,e>>>=0,r>>>=0,i||x(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+r},t.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,1,255,0),this[e]=255&t,e+1},t.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},t.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},t.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},t.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},t.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);x(this,t,e,r,n-1,-n)}var o=0,f=1,s=0;for(this[e]=255&t;++o<r&&(f*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/f>>0)-s&255;return e+r},t.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);x(this,t,e,r,n-1,-n)}var o=r-1,f=1,s=0;for(this[e+o]=255&t;--o>=0&&(f*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/f>>0)-s&255;return e+r},t.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},t.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},t.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},t.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},t.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},t.prototype.writeFloatLE=function(t,e,r){return O(this,t,e,!0,r)},t.prototype.writeFloatBE=function(t,e,r){return O(this,t,e,!1,r)},t.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},t.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},t.prototype.copy=function(e,r,i,n){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);var o=n-i;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,i,n);else if(this===e&&i<r&&r<n)for(var f=o-1;f>=0;--f)e[f+r]=this[f+i];else Uint8Array.prototype.set.call(e,this.subarray(i,n),r);return o},t.prototype.fill=function(e,r,i,n){if("string"==typeof e){if("string"==typeof r?(n=r,r=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!t.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;var f;if(r>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(f=r;f<i;++f)this[f]=e;else{var s=t.isBuffer(e)?e:t.from(e,n),h=s.length;if(0===h)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(f=0;f<i-r;++f)this[f+r]=s[f%h]}return this};var F=/[^+/0-9A-Za-z-_]/g;function C(t,e){var r;e=e||1/0;for(var i=t.length,n=null,o=[],f=0;f<i;++f){if((r=t.charCodeAt(f))>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(f+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function M(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function D(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function V(t){return t!=t}var j=function(){for(var t=new Array(256),e=0;e<16;++e)for(var r=16*e,i=0;i<16;++i)t[r+i]="0123456789abcdef"[e]+"0123456789abcdef"[i];return t}()}).call(this,r({}).Buffer)},function(r){return e||t(e={exports:{},parent:r},e.exports),e.exports}),i={toByteArray:function(t){var e,r,i=u(t),n=i[0],s=i[1],h=new f(function(t,e,r){return 3*(e+r)/4-r}(0,n,s)),a=0,l=s>0?n-4:n;for(r=0;r<l;r+=4)e=o[t.charCodeAt(r)]<<18|o[t.charCodeAt(r+1)]<<12|o[t.charCodeAt(r+2)]<<6|o[t.charCodeAt(r+3)],h[a++]=e>>16&255,h[a++]=e>>8&255,h[a++]=255&e;return 2===s&&(e=o[t.charCodeAt(r)]<<2|o[t.charCodeAt(r+1)]>>4,h[a++]=255&e),1===s&&(e=o[t.charCodeAt(r)]<<10|o[t.charCodeAt(r+1)]<<4|o[t.charCodeAt(r+2)]>>2,h[a++]=e>>8&255,h[a++]=255&e),h},fromByteArray:function(t){for(var e,r=t.length,i=r%3,o=[],f=0,s=r-i;f<s;f+=16383)o.push(l(t,f,f+16383>s?s:f+16383));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")}},n=[],o=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,a=s.length;h<a;++h)n[h]=s[h],o[s.charCodeAt(h)]=h;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,r){for(var i,o,f=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),f.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return f.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63;var g,c={read:function(t,e,r,i,n){var o,f,s=8*n-i-1,h=(1<<s)-1,a=h>>1,u=-7,l=r?n-1:0,g=r?-1:1,c=t[e+l];for(l+=g,o=c&(1<<-u)-1,c>>=-u,u+=s;u>0;o=256*o+t[e+l],l+=g,u-=8);for(f=o&(1<<-u)-1,o>>=-u,u+=i;u>0;f=256*f+t[e+l],l+=g,u-=8);if(0===o)o=1-a;else{if(o===h)return f?NaN:1/0*(c?-1:1);f+=Math.pow(2,i),o-=a}return(c?-1:1)*f*Math.pow(2,o-i)},write:function(t,e,r,i,n,o){var f,s,h,a=8*o-n-1,u=(1<<a)-1,l=u>>1,g=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,c=i?0:o-1,p=i?1:-1,b=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,f=u):(f=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-f))<1&&(f--,h*=2),(e+=f+l>=1?g/h:g*Math.pow(2,1-l))*h>=2&&(f++,h/=2),f+l>=u?(s=0,f=u):f+l>=1?(s=(e*h-1)*Math.pow(2,n),f+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,n),f=0));n>=8;t[r+c]=255&s,c+=p,s/=256,n-=8);for(f=f<<n|s,a+=n;a>0;t[r+c]=255&f,c+=p,f/=256,a-=8);t[r+c-p]|=128*b}},p={exports:{}};g=function(){"use strict";function t(t,e,r){this.low=0|t,this.high=0|e,this.unsigned=!!r}function e(t){return!0===(t&&t.__isLong__)}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),t.isLong=e;var r={},i={};function n(t,e){var n,o,s;return e?(s=0<=(t>>>=0)&&t<256)&&(o=i[t])?o:(n=f(t,(0|t)<0?-1:0,!0),s&&(i[t]=n),n):(s=-128<=(t|=0)&&t<128)&&(o=r[t])?o:(n=f(t,t<0?-1:0,!1),s&&(r[t]=n),n)}function o(t,e){if(isNaN(t)||!isFinite(t))return e?b:p;if(e){if(t<0)return b;if(t>=l)return v}else{if(t<=-g)return E;if(t+1>=g)return m}return t<0?o(-t,e).neg():f(t%u|0,t/u|0,e)}function f(e,r,i){return new t(e,r,i)}t.fromInt=n,t.fromNumber=o,t.fromBits=f;var s=Math.pow;function h(t,e,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return p;if("number"==typeof e?(r=e,e=!1):e=!!e,(r=r||10)<2||36<r)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return h(t.substring(1),e,r).neg();for(var n=o(s(r,8)),f=p,a=0;a<t.length;a+=8){var u=Math.min(8,t.length-a),l=parseInt(t.substring(a,a+u),r);if(u<8){var g=o(s(r,u));f=f.mul(g).add(o(l))}else f=(f=f.mul(n)).add(o(l))}return f.unsigned=e,f}function a(e){return e instanceof t?e:"number"==typeof e?o(e):"string"==typeof e?h(e):f(e.low,e.high,e.unsigned)}t.fromString=h,t.fromValue=a;var u=4294967296,l=u*u,g=l/2,c=n(1<<24),p=n(0);t.ZERO=p;var b=n(0,!0);t.UZERO=b;var d=n(1);t.ONE=d;var y=n(1,!0);t.UONE=y;var w=n(-1);t.NEG_ONE=w;var m=f(-1,2147483647,!1);t.MAX_VALUE=m;var v=f(-1,-1,!0);t.MAX_UNSIGNED_VALUE=v;var E=f(0,-2147483648,!1);t.MIN_VALUE=E;var I=t.prototype;return I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*u+(this.low>>>0):this.high*u+(this.low>>>0)},I.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var e=o(t),r=this.div(e),i=r.mul(e).sub(this);return r.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var n=o(s(t,6),this.unsigned),f=this,h="";;){var a=f.div(n),u=(f.sub(a.mul(n)).toInt()>>>0).toString(t);if((f=a).isZero())return u+h;for(;u.length<6;)u="0"+u;h=""+u+h}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},I.isZero=function(){return 0===this.high&&0===this.low},I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return 1==(1&this.low)},I.isEven=function(){return 0==(1&this.low)},I.equals=function(t){return e(t)||(t=a(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},I.eq=I.equals,I.notEquals=function(t){return!this.eq(t)},I.neq=I.notEquals,I.lessThan=function(t){return this.comp(t)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(t){return this.comp(t)<=0},I.lte=I.lessThanOrEqual,I.greaterThan=function(t){return this.comp(t)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(t){return this.comp(t)>=0},I.gte=I.greaterThanOrEqual,I.compare=function(t){if(e(t)||(t=a(t)),this.eq(t))return 0;var r=this.isNegative(),i=t.isNegative();return r&&!i?-1:!r&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(d)},I.neg=I.negate,I.add=function(t){e(t)||(t=a(t));var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,o=65535&this.low,s=t.high>>>16,h=65535&t.high,u=t.low>>>16,l=0,g=0,c=0,p=0;return c+=(p+=o+(65535&t.low))>>>16,g+=(c+=n+u)>>>16,l+=(g+=i+h)>>>16,l+=r+s,f((c&=65535)<<16|(p&=65535),(l&=65535)<<16|(g&=65535),this.unsigned)},I.subtract=function(t){return e(t)||(t=a(t)),this.add(t.neg())},I.sub=I.subtract,I.multiply=function(t){if(this.isZero())return p;if(e(t)||(t=a(t)),t.isZero())return p;if(this.eq(E))return t.isOdd()?E:p;if(t.eq(E))return this.isOdd()?E:p;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(c)&&t.lt(c))return o(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,h=t.high>>>16,u=65535&t.high,l=t.low>>>16,g=65535&t.low,b=0,d=0,y=0,w=0;return y+=(w+=s*g)>>>16,d+=(y+=n*g)>>>16,y&=65535,d+=(y+=s*l)>>>16,b+=(d+=i*g)>>>16,d&=65535,b+=(d+=n*l)>>>16,d&=65535,b+=(d+=s*u)>>>16,b+=r*g+i*l+n*u+s*h,f((y&=65535)<<16|(w&=65535),(b&=65535)<<16|(d&=65535),this.unsigned)},I.mul=I.multiply,I.divide=function(t){if(e(t)||(t=a(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?b:p;var r,i,n;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return b;if(t.gt(this.shru(1)))return y;n=b}else{if(this.eq(E))return t.eq(d)||t.eq(w)?E:t.eq(E)?d:(r=this.shr(1).div(t).shl(1)).eq(p)?t.isNegative()?d:w:(i=this.sub(t.mul(r)),n=r.add(i.div(t)));if(t.eq(E))return this.unsigned?b:p;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();n=p}for(i=this;i.gte(t);){r=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var f=Math.ceil(Math.log(r)/Math.LN2),h=f<=48?1:s(2,f-48),u=o(r),l=u.mul(t);l.isNegative()||l.gt(i);)l=(u=o(r-=h,this.unsigned)).mul(t);u.isZero()&&(u=d),n=n.add(u),i=i.sub(l)}return n},I.div=I.divide,I.modulo=function(t){return e(t)||(t=a(t)),this.sub(this.div(t).mul(t))},I.mod=I.modulo,I.not=function(){return f(~this.low,~this.high,this.unsigned)},I.and=function(t){return e(t)||(t=a(t)),f(this.low&t.low,this.high&t.high,this.unsigned)},I.or=function(t){return e(t)||(t=a(t)),f(this.low|t.low,this.high|t.high,this.unsigned)},I.xor=function(t){return e(t)||(t=a(t)),f(this.low^t.low,this.high^t.high,this.unsigned)},I.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?f(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):f(0,this.low<<t-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?f(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):f(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(t){if(e(t)&&(t=t.toInt()),0==(t&=63))return this;var r=this.high;return t<32?f(this.low>>>t|r<<32-t,r>>>t,this.unsigned):f(32===t?r:r>>>t-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?f(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:f(this.low,this.high,!0)},I.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},I.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t},p&&p.exports?p.exports=g():(this.dcodeIO=this.dcodeIO||{}).Long=g(),p=p.exports;var b=function(){"use strict";var t=r({}).Buffer,e=function(r,i,o){if(void 0===r&&(r=e.DEFAULT_CAPACITY),void 0===i&&(i=e.DEFAULT_ENDIAN),void 0===o&&(o=e.DEFAULT_NOASSERT),!o){if((r|=0)<0)throw RangeError("Illegal capacity");i=!!i,o=!!o}this.buffer=0===r?n:t.alloc(r),this.offset=0,this.markedOffset=-1,this.limit=r,this.littleEndian=i,this.noAssert=o};e.VERSION="1.0.1",e.LITTLE_ENDIAN=!0,e.BIG_ENDIAN=!1,e.DEFAULT_CAPACITY=16,e.DEFAULT_ENDIAN=e.BIG_ENDIAN,e.DEFAULT_NOASSERT=!1,e.Long=p;var i=e.prototype;i.__isByteBuffer__,Object.defineProperty(i,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var n=t.alloc(0),o=String.fromCharCode;e.accessor=function(){return t},e.allocate=function(t,r,i){return new e(t,r,i)},e.concat=function(t,r,i,n){"boolean"!=typeof r&&"string"==typeof r||(n=i,i=r,r=void 0);for(var o,f=0,s=0,h=t.length;s<h;++s)e.isByteBuffer(t[s])||(t[s]=e.wrap(t[s],r)),(o=t[s].limit-t[s].offset)>0&&(f+=o);if(0===f)return new e(0,i,n);var a,u=new e(f,i,n);for(s=0;s<h;)(o=(a=t[s++]).limit-a.offset)<=0||(a.buffer.copy(u.buffer,u.offset,a.offset,a.limit),u.offset+=o);return u.limit=u.offset,u.offset=0,u},e.isByteBuffer=function(t){return!0===(t&&t.__isByteBuffer__)},e.type=function(){return t},e.wrap=function(r,n,o,f){if("string"!=typeof n&&(f=o,o=n,n=void 0),"string"==typeof r)switch(void 0===n&&(n="utf8"),n){case"base64":return e.fromBase64(r,o);case"hex":return e.fromHex(r,o);case"binary":return e.fromBinary(r,o);case"utf8":return e.fromUTF8(r,o);case"debug":return e.fromDebug(r,o);default:throw Error("Unsupported encoding: "+n)}if(null===r||"object"!=typeof r)throw TypeError("Illegal buffer");var s;if(e.isByteBuffer(r))return(s=i.clone.call(r)).markedOffset=-1,s;var h,a=0,u=0;if(r instanceof Uint8Array){for(h=t.alloc(r.length),a=0,u=r.length;a<u;++a)h[a]=r[a];r=h}else if(r instanceof ArrayBuffer){for(h=t.alloc(r.byteLength),a=0,u=(r=new Uint8Array(r)).length;a<u;++a)h[a]=r[a];r=h}else if(!(r instanceof t)){if("[object Array]"!==Object.prototype.toString.call(r))throw TypeError("Illegal buffer");r=t.from(r)}return s=new e(0,o,f),r.length>0&&(s.buffer=r,s.limit=r.length),s},i.writeBitSet=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if(!(t instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.length)}var i,n=e,o=t.length,f=o>>3,s=0;for(e+=this.writeVarint32(o,e);f--;)i=1&!!t[s++]|(1&!!t[s++])<<1|(1&!!t[s++])<<2|(1&!!t[s++])<<3|(1&!!t[s++])<<4|(1&!!t[s++])<<5|(1&!!t[s++])<<6|(1&!!t[s++])<<7,this.writeByte(i,e++);if(s<o){var h=0;for(i=0;s<o;)i|=(1&!!t[s++])<<h++;this.writeByte(i,e++)}return r?(this.offset=e,this):e-n},i.readBitSet=function(t){var e=void 0===t;e&&(t=this.offset);var r,i=this.readVarint32(t),n=i.value,o=n>>3,f=0,s=[];for(t+=i.length;o--;)r=this.readByte(t++),s[f++]=!!(1&r),s[f++]=!!(2&r),s[f++]=!!(4&r),s[f++]=!!(8&r),s[f++]=!!(16&r),s[f++]=!!(32&r),s[f++]=!!(64&r),s[f++]=!!(128&r);if(f<n){var h=0;for(r=this.readByte(t++);f<n;)s[f++]=!!(r>>h++&1)}return e&&(this.offset=t),s},i.readBytes=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+t>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.length)}var i=this.slice(e,e+t);return r&&(this.offset+=t),i},i.writeInt8=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.length)}e+=1;var i=this.buffer.length;return e>i&&this.resize((i*=2)>e?i:e),e-=1,this.buffer[e]=t,r&&(this.offset+=1),this},i.writeByte=i.writeInt8,i.readInt8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.length)}var r=this.buffer[t];return 128==(128&r)&&(r=-(255-r+1)),e&&(this.offset+=1),r},i.readByte=i.readInt8,i.writeUint8=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.length)}e+=1;var i=this.buffer.length;return e>i&&this.resize((i*=2)>e?i:e),e-=1,this.buffer[e]=t,r&&(this.offset+=1),this},i.writeUInt8=i.writeUint8,i.readUint8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.length)}var r=this.buffer[t];return e&&(this.offset+=1),r},i.readUInt8=i.readUint8,i.writeInt16=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.length)}e+=2;var i=this.buffer.length;return e>i&&this.resize((i*=2)>e?i:e),e-=2,this.littleEndian?(this.buffer[e+1]=(65280&t)>>>8,this.buffer[e]=255&t):(this.buffer[e]=(65280&t)>>>8,this.buffer[e+1]=255&t),r&&(this.offset+=2),this},i.writeShort=i.writeInt16,i.readInt16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.length)}var r=0;return this.littleEndian?(r=this.buffer[t],r|=this.buffer[t+1]<<8):(r=this.buffer[t]<<8,r|=this.buffer[t+1]),32768==(32768&r)&&(r=-(65535-r+1)),e&&(this.offset+=2),r},i.readShort=i.readInt16,i.writeUint16=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.length)}e+=2;var i=this.buffer.length;return e>i&&this.resize((i*=2)>e?i:e),e-=2,this.littleEndian?(this.buffer[e+1]=(65280&t)>>>8,this.buffer[e]=255&t):(this.buffer[e]=(65280&t)>>>8,this.buffer[e+1]=255&t),r&&(this.offset+=2),this},i.writeUInt16=i.writeUint16,i.readUint16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.length)}var r=0;return this.littleEndian?(r=this.buffer[t],r|=this.buffer[t+1]<<8):(r=this.buffer[t]<<8,r|=this.buffer[t+1]),e&&(this.offset+=2),r},i.readUInt16=i.readUint16,i.writeInt32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.length)}e+=4;var i=this.buffer.length;return e>i&&this.resize((i*=2)>e?i:e),e-=4,this.littleEndian?(this.buffer[e+3]=t>>>24&255,this.buffer[e+2]=t>>>16&255,this.buffer[e+1]=t>>>8&255,this.buffer[e]=255&t):(this.buffer[e]=t>>>24&255,this.buffer[e+1]=t>>>16&255,this.buffer[e+2]=t>>>8&255,this.buffer[e+3]=255&t),r&&(this.offset+=4),this},i.writeInt=i.writeInt32,i.readInt32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.length)}var r=0;return this.littleEndian?(r=this.buffer[t+2]<<16,r|=this.buffer[t+1]<<8,r|=this.buffer[t],r+=this.buffer[t+3]<<24>>>0):(r=this.buffer[t+1]<<16,r|=this.buffer[t+2]<<8,r|=this.buffer[t+3],r+=this.buffer[t]<<24>>>0),r|=0,e&&(this.offset+=4),r},i.readInt=i.readInt32,i.writeUint32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.length)}e+=4;var i=this.buffer.length;return e>i&&this.resize((i*=2)>e?i:e),e-=4,this.littleEndian?(this.buffer[e+3]=t>>>24&255,this.buffer[e+2]=t>>>16&255,this.buffer[e+1]=t>>>8&255,this.buffer[e]=255&t):(this.buffer[e]=t>>>24&255,this.buffer[e+1]=t>>>16&255,this.buffer[e+2]=t>>>8&255,this.buffer[e+3]=255&t),r&&(this.offset+=4),this},i.writeUInt32=i.writeUint32,i.readUint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.length)}var r=0;return this.littleEndian?(r=this.buffer[t+2]<<16,r|=this.buffer[t+1]<<8,r|=this.buffer[t],r+=this.buffer[t+3]<<24>>>0):(r=this.buffer[t+1]<<16,r|=this.buffer[t+2]<<8,r|=this.buffer[t+3],r+=this.buffer[t]<<24>>>0),e&&(this.offset+=4),r},i.readUInt32=i.readUint32,p&&(i.writeInt64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"==typeof t)t=p.fromNumber(t);else if("string"==typeof t)t=p.fromString(t);else if(!(t&&t instanceof p))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.length)}"number"==typeof t?t=p.fromNumber(t):"string"==typeof t&&(t=p.fromString(t)),e+=8;var i=this.buffer.length;e>i&&this.resize((i*=2)>e?i:e),e-=8;var n=t.low,o=t.high;return this.littleEndian?(this.buffer[e+3]=n>>>24&255,this.buffer[e+2]=n>>>16&255,this.buffer[e+1]=n>>>8&255,this.buffer[e]=255&n,e+=4,this.buffer[e+3]=o>>>24&255,this.buffer[e+2]=o>>>16&255,this.buffer[e+1]=o>>>8&255,this.buffer[e]=255&o):(this.buffer[e]=o>>>24&255,this.buffer[e+1]=o>>>16&255,this.buffer[e+2]=o>>>8&255,this.buffer[e+3]=255&o,e+=4,this.buffer[e]=n>>>24&255,this.buffer[e+1]=n>>>16&255,this.buffer[e+2]=n>>>8&255,this.buffer[e+3]=255&n),r&&(this.offset+=8),this},i.writeLong=i.writeInt64,i.readInt64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.length)}var r=0,i=0;this.littleEndian?(r=this.buffer[t+2]<<16,r|=this.buffer[t+1]<<8,r|=this.buffer[t],r+=this.buffer[t+3]<<24>>>0,t+=4,i=this.buffer[t+2]<<16,i|=this.buffer[t+1]<<8,i|=this.buffer[t],i+=this.buffer[t+3]<<24>>>0):(i=this.buffer[t+1]<<16,i|=this.buffer[t+2]<<8,i|=this.buffer[t+3],i+=this.buffer[t]<<24>>>0,t+=4,r=this.buffer[t+1]<<16,r|=this.buffer[t+2]<<8,r|=this.buffer[t+3],r+=this.buffer[t]<<24>>>0);var n=new p(r,i,!1);return e&&(this.offset+=8),n},i.readLong=i.readInt64,i.writeUint64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"==typeof t)t=p.fromNumber(t);else if("string"==typeof t)t=p.fromString(t);else if(!(t&&t instanceof p))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.length)}"number"==typeof t?t=p.fromNumber(t):"string"==typeof t&&(t=p.fromString(t)),e+=8;var i=this.buffer.length;e>i&&this.resize((i*=2)>e?i:e),e-=8;var n=t.low,o=t.high;return this.littleEndian?(this.buffer[e+3]=n>>>24&255,this.buffer[e+2]=n>>>16&255,this.buffer[e+1]=n>>>8&255,this.buffer[e]=255&n,e+=4,this.buffer[e+3]=o>>>24&255,this.buffer[e+2]=o>>>16&255,this.buffer[e+1]=o>>>8&255,this.buffer[e]=255&o):(this.buffer[e]=o>>>24&255,this.buffer[e+1]=o>>>16&255,this.buffer[e+2]=o>>>8&255,this.buffer[e+3]=255&o,e+=4,this.buffer[e]=n>>>24&255,this.buffer[e+1]=n>>>16&255,this.buffer[e+2]=n>>>8&255,this.buffer[e+3]=255&n),r&&(this.offset+=8),this},i.writeUInt64=i.writeUint64,i.readUint64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.length)}var r=0,i=0;this.littleEndian?(r=this.buffer[t+2]<<16,r|=this.buffer[t+1]<<8,r|=this.buffer[t],r+=this.buffer[t+3]<<24>>>0,t+=4,i=this.buffer[t+2]<<16,i|=this.buffer[t+1]<<8,i|=this.buffer[t],i+=this.buffer[t+3]<<24>>>0):(i=this.buffer[t+1]<<16,i|=this.buffer[t+2]<<8,i|=this.buffer[t+3],i+=this.buffer[t]<<24>>>0,t+=4,r=this.buffer[t+1]<<16,r|=this.buffer[t+2]<<8,r|=this.buffer[t+3],r+=this.buffer[t]<<24>>>0);var n=new p(r,i,!0);return e&&(this.offset+=8),n},i.readUInt64=i.readUint64),i.writeFloat32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.length)}e+=4;var i=this.buffer.length;return e>i&&this.resize((i*=2)>e?i:e),e-=4,this.littleEndian?this.buffer.writeFloatLE(t,e):this.buffer.writeFloatBE(t,e),r&&(this.offset+=4),this},i.writeFloat=i.writeFloat32,i.readFloat32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.length)}var r=this.littleEndian?this.buffer.readFloatLE(t,!0):this.buffer.readFloatBE(t,!0);return e&&(this.offset+=4),r},i.readFloat=i.readFloat32,i.writeFloat64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.length)}e+=8;var i=this.buffer.length;return e>i&&this.resize((i*=2)>e?i:e),e-=8,this.littleEndian?this.buffer.writeDoubleLE(t,e):this.buffer.writeDoubleBE(t,e),r&&(this.offset+=8),this},i.writeDouble=i.writeFloat64,i.readFloat64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.length)}var r=this.littleEndian?this.buffer.readDoubleLE(t):this.buffer.readDoubleBE(t);return e&&(this.offset+=8),r},i.readDouble=i.readFloat64,e.MAX_VARINT32_BYTES=5,e.calculateVarint32=function(t){return(t>>>=0)<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5},e.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},e.zigZagDecode32=function(t){return t>>>1^-(1&t)|0},i.writeVarint32=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.length)}var n,o=e.calculateVarint32(t);r+=o;var f=this.buffer.length;for(r>f&&this.resize((f*=2)>r?f:r),r-=o,t>>>=0;t>=128;)n=127&t|128,this.buffer[r++]=n,t>>>=7;return this.buffer[r++]=t,i?(this.offset=r,this):o},i.writeVarint32ZigZag=function(t,r){return this.writeVarint32(e.zigZagEncode32(t),r)},i.readVarint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.length)}var r,i=0,n=0;do{if(!this.noAssert&&t>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}r=this.buffer[t++],i<5&&(n|=(127&r)<<7*i),++i}while(0!=(128&r));return n|=0,e?(this.offset=t,n):{value:n,length:i}},i.readVarint32ZigZag=function(t){var r=this.readVarint32(t);return"object"==typeof r?r.value=e.zigZagDecode32(r.value):r=e.zigZagDecode32(r),r},p&&(e.MAX_VARINT64_BYTES=10,e.calculateVarint64=function(t){"number"==typeof t?t=p.fromNumber(t):"string"==typeof t&&(t=p.fromString(t));var e=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,i=t.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==r?e<16384?e<128?1:2:e<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10},e.zigZagEncode64=function(t){return"number"==typeof t?t=p.fromNumber(t,!1):"string"==typeof t?t=p.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},e.zigZagDecode64=function(t){return"number"==typeof t?t=p.fromNumber(t,!1):"string"==typeof t?t=p.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(p.ONE).toSigned().negate()).toSigned()},i.writeVarint64=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof t)t=p.fromNumber(t);else if("string"==typeof t)t=p.fromString(t);else if(!(t&&t instanceof p))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.length)}"number"==typeof t?t=p.fromNumber(t,!1):"string"==typeof t?t=p.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned());var n=e.calculateVarint64(t),o=t.toInt()>>>0,f=t.shiftRightUnsigned(28).toInt()>>>0,s=t.shiftRightUnsigned(56).toInt()>>>0;r+=n;var h=this.buffer.length;switch(r>h&&this.resize((h*=2)>r?h:r),r-=n,n){case 10:this.buffer[r+9]=s>>>7&1;case 9:this.buffer[r+8]=9!==n?128|s:127&s;case 8:this.buffer[r+7]=8!==n?f>>>21|128:f>>>21&127;case 7:this.buffer[r+6]=7!==n?f>>>14|128:f>>>14&127;case 6:this.buffer[r+5]=6!==n?f>>>7|128:f>>>7&127;case 5:this.buffer[r+4]=5!==n?128|f:127&f;case 4:this.buffer[r+3]=4!==n?o>>>21|128:o>>>21&127;case 3:this.buffer[r+2]=3!==n?o>>>14|128:o>>>14&127;case 2:this.buffer[r+1]=2!==n?o>>>7|128:o>>>7&127;case 1:this.buffer[r]=1!==n?128|o:127&o}return i?(this.offset+=n,this):n},i.writeVarint64ZigZag=function(t,r){return this.writeVarint64(e.zigZagEncode64(t),r)},i.readVarint64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.length)}var r=t,i=0,n=0,o=0,f=0;if(i=127&(f=this.buffer[t++]),128&f&&(i|=(127&(f=this.buffer[t++]))<<7,(128&f||this.noAssert&&void 0===f)&&(i|=(127&(f=this.buffer[t++]))<<14,(128&f||this.noAssert&&void 0===f)&&(i|=(127&(f=this.buffer[t++]))<<21,(128&f||this.noAssert&&void 0===f)&&(n=127&(f=this.buffer[t++]),(128&f||this.noAssert&&void 0===f)&&(n|=(127&(f=this.buffer[t++]))<<7,(128&f||this.noAssert&&void 0===f)&&(n|=(127&(f=this.buffer[t++]))<<14,(128&f||this.noAssert&&void 0===f)&&(n|=(127&(f=this.buffer[t++]))<<21,(128&f||this.noAssert&&void 0===f)&&(o=127&(f=this.buffer[t++]),(128&f||this.noAssert&&void 0===f)&&(o|=(127&(f=this.buffer[t++]))<<7,128&f||this.noAssert&&void 0===f))))))))))throw Error("Buffer overrun");var s=p.fromBits(i|n<<28,n>>>4|o<<24,!1);return e?(this.offset=t,s):{value:s,length:t-r}},i.readVarint64ZigZag=function(t){var r=this.readVarint64(t);return r&&r.value instanceof p?r.value=e.zigZagDecode64(r.value):r=e.zigZagDecode64(r),r}),i.writeCString=function(e,r){var i=void 0===r;i&&(r=this.offset);var n,o=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(n=0;n<o;++n)if(0===e.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.length)}r+=(o=t.byteLength(e,"utf8"))+1;var f=this.buffer.length;return r>f&&this.resize((f*=2)>r?f:r),r-=o+1,r+=this.buffer.write(e,r,o,"utf8"),this.buffer[r++]=0,i?(this.offset=r,this):o},i.readCString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.length)}var r,i=t;do{if(t>=this.buffer.length)throw RangeError("Index out of range: "+t+" <= "+this.buffer.length);r=this.buffer[t++]}while(0!==r);var n=this.buffer.toString("utf8",i,t-1);return e?(this.offset=t,n):{string:n,length:t-i}},i.writeIString=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.length)}var n,o=r;r+=4+(n=t.byteLength(e,"utf8"));var f=this.buffer.length;return r>f&&this.resize((f*=2)>r?f:r),r-=4+n,this.littleEndian?(this.buffer[r+3]=n>>>24&255,this.buffer[r+2]=n>>>16&255,this.buffer[r+1]=n>>>8&255,this.buffer[r]=255&n):(this.buffer[r]=n>>>24&255,this.buffer[r+1]=n>>>16&255,this.buffer[r+2]=n>>>8&255,this.buffer[r+3]=255&n),r+=4,r+=this.buffer.write(e,r,n,"utf8"),i?(this.offset=r,this):r-o},i.readIString=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.length)}var i=t,n=this.readUint32(t),o=this.readUTF8String(n,e.METRICS_BYTES,t+=4);return t+=o.length,r?(this.offset=t,o.string):{string:o.string,length:t-i}},e.METRICS_CHARS="c",e.METRICS_BYTES="b",i.writeUTF8String=function(e,r){var i,n=void 0===r;if(n&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.length)}r+=i=t.byteLength(e,"utf8");var o=this.buffer.length;return r>o&&this.resize((o*=2)>r?o:r),r-=i,r+=this.buffer.write(e,r,i,"utf8"),n?(this.offset=r,this):i},i.writeString=i.writeUTF8String,e.calculateUTF8Chars=function(t){return f.calculateUTF16asUTF8((e=t,r=0,function(){return r<e.length?e.charCodeAt(r++):null}))[0];var e,r},e.calculateUTF8Bytes=function(e){if("string"!=typeof e)throw TypeError("Illegal argument: "+typeof e);return t.byteLength(e,"utf8")},e.calculateString=e.calculateUTF8Bytes,i.readUTF8String=function(t,r,i){"number"==typeof r&&(i=r,r=void 0);var n=void 0===i;if(n&&(i=this.offset),void 0===r&&(r=e.METRICS_CHARS),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.length)}var s,h,a,u,l=0,g=i;if(r===e.METRICS_CHARS){if(a=[],u=[],h=function(){if(0===arguments.length)return u.join("")+o.apply(String,a);a.length+arguments.length>1024&&(u.push(o.apply(String,a)),a.length=0),Array.prototype.push.apply(a,arguments)},f.decodeUTF8(function(){return l<t&&i<this.limit?this.buffer[i++]:null}.bind(this),function(t){++l,f.UTF8toUTF16(t,h)}),l!==t)throw RangeError("Illegal range: Truncated data, "+l+" == "+t);return n?(this.offset=i,h()):{string:h(),length:i-g}}if(r===e.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+t>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+i+" (+"+t+") <= "+this.buffer.length)}return s=this.buffer.toString("utf8",i,i+t),n?(this.offset+=t,s):{string:s,length:t}}throw TypeError("Unsupported metrics: "+r)},i.readString=i.readUTF8String,i.writeVString=function(r,i){var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("string"!=typeof r)throw TypeError("Illegal str: Not a string");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.length)}var o,f,s=i;o=t.byteLength(r,"utf8"),i+=(f=e.calculateVarint32(o))+o;var h=this.buffer.length;return i>h&&this.resize((h*=2)>i?h:i),i-=f+o,i+=this.writeVarint32(o,i),i+=this.buffer.write(r,i,o,"utf8"),n?(this.offset=i,this):i-s},i.readVString=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.length)}var i=t,n=this.readVarint32(t),o=this.readUTF8String(n.value,e.METRICS_BYTES,t+=n.length);return t+=o.length,r?(this.offset=t,o.string):{string:o.string,length:t-i}},i.append=function(t,r,i){"number"!=typeof r&&"string"==typeof r||(i=r,r=void 0);var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.length)}t instanceof e||(t=e.wrap(t,r));var o=t.limit-t.offset;if(o<=0)return this;i+=o;var f=this.buffer.length;return i>f&&this.resize((f*=2)>i?f:i),i-=o,t.buffer.copy(this.buffer,i,t.offset,t.limit),t.offset+=o,n&&(this.offset+=o),this},i.appendTo=function(t,e){return t.append(this,e),this},i.writeBytes=i.append,i.assert=function(t){return this.noAssert=!t,this},i.capacity=function(){return this.buffer.length},i.clear=function(){return this.offset=0,this.limit=this.buffer.length,this.markedOffset=-1,this},i.clone=function(r){var i=new e(0,this.littleEndian,this.noAssert);if(r){var n=t.alloc(this.buffer.length);this.buffer.copy(n),i.buffer=n}else i.buffer=this.buffer;return i.offset=this.offset,i.markedOffset=this.markedOffset,i.limit=this.limit,i},i.compact=function(e,r){if(void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.length)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.length)}if(0===e&&r===this.buffer.length)return this;var i=r-e;if(0===i)return this.buffer=n,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var o=t.alloc(i);return this.buffer.copy(o,0,e,r),this.buffer=o,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=i,this},i.copy=function(t,r){if(void 0===t&&(t=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.length)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.length)}if(t===r)return new e(0,this.littleEndian,this.noAssert);var i=r-t,n=new e(i,this.littleEndian,this.noAssert);return n.offset=0,n.limit=i,n.markedOffset>=0&&(n.markedOffset-=t),this.copyTo(n,0,t,r),n},i.copyTo=function(t,r,i,n){var o,f;if(!this.noAssert&&!e.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(r=(f=void 0===r)?t.offset:0|r,i=(o=void 0===i)?this.offset:0|i,n=void 0===n?this.limit:0|n,r<0||r>t.buffer.length)throw RangeError("Illegal target range: 0 <= "+r+" <= "+t.buffer.length);if(i<0||n>this.buffer.length)throw RangeError("Illegal source range: 0 <= "+i+" <= "+this.buffer.length);var s=n-i;return 0===s?t:(t.ensureCapacity(r+s),this.buffer.copy(t.buffer,r,i,n),o&&(this.offset+=s),f&&(t.offset+=s),this)},i.ensureCapacity=function(t){var e=this.buffer.length;return e<t?this.resize((e*=2)>t?e:t):this},i.fill=function(t,e,r){var i=void 0===e;if(i&&(e=this.offset),"string"==typeof t&&t.length>0&&(t=t.charCodeAt(0)),void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.length)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.length)}return e>=r?this:(this.buffer.fill(t,e,r),e=r,i&&(this.offset=e),this)},i.flip=function(){return this.limit=this.offset,this.offset=0,this},i.mark=function(t){if(t=void 0===t?this.offset:t,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.length)}return this.markedOffset=t,this},i.order=function(t){if(!this.noAssert&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},i.LE=function(t){return this.littleEndian=void 0===t||!!t,this},i.BE=function(t){return this.littleEndian=void 0!==t&&!t,this},i.prepend=function(r,i,n){"number"!=typeof i&&"string"==typeof i||(n=i,i=void 0);var o=void 0===n;if(o&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.length)}r instanceof e||(r=e.wrap(r,i));var f=r.limit-r.offset;if(f<=0)return this;var s=f-n;if(s>0){var h=t.alloc(this.buffer.length+s);this.buffer.copy(h,f,n,this.buffer.length),this.buffer=h,this.offset+=s,this.markedOffset>=0&&(this.markedOffset+=s),this.limit+=s,n+=s}return r.buffer.copy(this.buffer,n-f,r.offset,r.limit),r.offset=r.limit,o&&(this.offset-=f),this},i.prependTo=function(t,e){return t.prepend(this,e),this},i.printDebug=function(t){"function"!=typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},i.remaining=function(){return this.limit-this.offset},i.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},i.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.length<e){var r=t.alloc(e);this.buffer.copy(r),this.buffer=r}return this},i.reverse=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.length)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.length)}return t===e?this:(Array.prototype.reverse.call(this.buffer.slice(t,e)),this)},i.skip=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.noAssert&&(e<0||e>this.buffer.length))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.length);return this.offset=e,this},i.slice=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.length)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.length)}var r=this.clone();return r.offset=t,r.limit=e,r},i.toBuffer=function(e){var r=this.offset,i=this.limit;if(!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: Not an integer");if(r>>>=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal limit: Not an integer");if(i>>>=0,r<0||r>i||i>this.buffer.length)throw RangeError("Illegal range: 0 <= "+r+" <= "+i+" <= "+this.buffer.length)}if(e){var n=t.alloc(i-r);return this.buffer.copy(n,0,r,i),n}return 0===r&&i===this.buffer.length?this.buffer:this.buffer.slice(r,i)},i.toArrayBuffer=function(){var t=this.offset,e=this.limit;if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal limit: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.length)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.length)}for(var r=new ArrayBuffer(e-t),i=new Uint8Array(r),n=t;n<e;++n)i[n-t]=this.buffer[n];return r},i.toString=function(t,e,r){if(void 0===t)return"ByteBufferNB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof t&&(r=e=t="utf8"),t){case"utf8":return this.toUTF8(e,r);case"base64":return this.toBase64(e,r);case"hex":return this.toHex(e,r);case"binary":return this.toBinary(e,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}},i.toBase64=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity||t>e)throw RangeError("begin, end");return this.buffer.toString("base64",t,e)},e.fromBase64=function(r,i){return e.wrap(t.from(r,"base64"),i)},e.btoa=function(t){return e.fromBinary(t).toBase64()},e.atob=function(t){return e.fromBase64(t).toBinary()},i.toBinary=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity()||t>e)throw RangeError("begin, end");return this.buffer.toString("binary",t,e)},e.fromBinary=function(r,i){return e.wrap(t.from(r,"binary"),i)},i.toDebug=function(t){for(var e,r=-1,i=this.buffer.length,n="",o="",f="";r<i;){if(-1!==r&&(n+=(e=this.buffer[r])<16?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(o+=e>32&&e<127?String.fromCharCode(e):".")),++r,t&&r>0&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";f+=n+o+"\n",n=o=""}r===this.offset&&r===this.limit?n+=r===this.markedOffset?"!":"|":r===this.offset?n+=r===this.markedOffset?"[":"<":r===this.limit?n+=r===this.markedOffset?"]":">":n+=r===this.markedOffset?"'":t||0!==r&&r!==i?" ":""}if(t&&" "!==n){for(;n.length<51;)n+=" ";f+=n+o+"\n"}return t?f:n},e.fromDebug=function(t,r,i){for(var n,o,f=t.length,s=new e((f+1)/3|0,r,i),h=0,a=0,u=!1,l=!1,g=!1,c=!1,p=!1;h<f;){switch(n=t.charAt(h++)){case"!":if(!i){if(l||g||c){p=!0;break}l=g=c=!0}s.offset=s.markedOffset=s.limit=a,u=!1;break;case"|":if(!i){if(l||c){p=!0;break}l=c=!0}s.offset=s.limit=a,u=!1;break;case"[":if(!i){if(l||g){p=!0;break}l=g=!0}s.offset=s.markedOffset=a,u=!1;break;case"<":if(!i){if(l){p=!0;break}l=!0}s.offset=a,u=!1;break;case"]":if(!i){if(c||g){p=!0;break}c=g=!0}s.limit=s.markedOffset=a,u=!1;break;case">":if(!i){if(c){p=!0;break}c=!0}s.limit=a,u=!1;break;case"'":if(!i){if(g){p=!0;break}g=!0}s.markedOffset=a,u=!1;break;case" ":u=!1;break;default:if(!i&&u){p=!0;break}if(o=parseInt(n+t.charAt(h++),16),!i&&(isNaN(o)||o<0||o>255))throw TypeError("Illegal str: Not a debug encoded string");s.buffer[a++]=o,u=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+h)}if(!i){if(!l||!c)throw TypeError("Illegal str: Missing offset or limit");if(a<s.buffer.length)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+a+" < "+f)}return s},i.toHex=function(t,e){if(t=void 0===t?this.offset:t,e=void 0===e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.length)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.length)}return this.buffer.toString("hex",t,e)},e.fromHex=function(r,i,n){if(!n){if("string"!=typeof r)throw TypeError("Illegal str: Not a string");if(r.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}var o=new e(0,i,!0);return o.buffer=t.from(r,"hex"),o.limit=o.buffer.length,o};var f=function(){var t={MAX_CODEPOINT:1114111,encodeUTF8:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<128?e(127&r):r<2048?(e(r>>6&31|192),e(63&r|128)):r<65536?(e(r>>12&15|224),e(r>>6&63|128),e(63&r|128)):(e(r>>18&7|240),e(r>>12&63|128),e(r>>6&63|128),e(63&r|128)),r=null},decodeUTF8:function(t,e){for(var r,i,n,o,f=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(r=t());)if(0==(128&r))e(r);else if(192==(224&r))null===(i=t())&&f([r,i]),e((31&r)<<6|63&i);else if(224==(240&r))(null===(i=t())||null===(n=t()))&&f([r,i,n]),e((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=t())||null===(n=t())||null===(o=t()))&&f([r,i,n,o]),e((7&r)<<18|(63&i)<<12|(63&n)<<6|63&o)}},UTF16toUTF8:function(t,e){for(var r,i=null;null!==(r=null!==i?i:t());)r>=55296&&r<=57343&&null!==(i=t())&&i>=56320&&i<=57343?(e(1024*(r-55296)+i-56320+65536),i=null):e(r);null!==i&&e(i)},UTF8toUTF16:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<=65535?e(r):(e(55296+((r-=65536)>>10)),e(r%1024+56320)),r=null},encodeUTF16toUTF8:function(e,r){t.UTF16toUTF8(e,function(e){t.encodeUTF8(e,r)})},decodeUTF8toUTF16:function(e,r){t.decodeUTF8(e,function(e){t.UTF8toUTF16(e,r)})},calculateCodePoint:function(t){return t<128?1:t<2048?2:t<65536?3:4},calculateUTF8:function(t){for(var e,r=0;null!==(e=t());)r+=e<128?1:e<2048?2:e<65536?3:4;return r},calculateUTF16asUTF8:function(e){var r=0,i=0;return t.UTF16toUTF8(e,function(t){++r,i+=t<128?1:t<2048?2:t<65536?3:4}),[r,i]}};return t}();return i.toUTF8=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.length)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.length)}return this.buffer.toString("utf8",t,e)},e.fromUTF8=function(r,i,n){if(!n&&"string"!=typeof r)throw TypeError("Illegal str: Not a string");var o=new e(0,i,n);return o.buffer=t.from(r,"utf8"),o.limit=o.buffer.length,o},e.memcpy=null,e}(),d=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var n=t.charAt(i),o=n.charCodeAt(0);if(255!==e[o])throw new TypeError(n+" is ambiguous");e[o]=i}var f=t.length,s=t.charAt(0),h=Math.log(f)/Math.log(256),a=Math.log(256)/Math.log(f);function u(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,i=0,n=0;t[r]===s;)i++,r++;for(var o=(t.length-r)*h+1>>>0,a=new Uint8Array(o);t[r];){var u=e[t.charCodeAt(r)];if(255===u)return;for(var l=0,g=o-1;(0!==u||l<n)&&-1!==g;g--,l++)u+=f*a[g]>>>0,a[g]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");n=l,r++}for(var c=o-n;c!==o&&0===a[c];)c++;for(var p=new Uint8Array(i+(o-c)),b=i;c!==o;)p[b++]=a[c++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,i=0,n=0,o=e.length;n!==o&&0===e[n];)n++,r++;for(var h=(o-n)*a+1>>>0,u=new Uint8Array(h);n!==o;){for(var l=e[n],g=0,c=h-1;(0!==l||g<i)&&-1!==c;c--,g++)l+=256*u[c]>>>0,u[c]=l%f>>>0,l=l/f>>>0;if(0!==l)throw new Error("Non-zero carry");i=g,n++}for(var p=h-i;p!==h&&0===u[p];)p++;for(var b=s.repeat(r);p<h;++p)b+=t.charAt(u[p]);return b},decodeUnsafe:u,decode:function(t){var e=u(t);if(e)return e;throw new Error("Non-base"+f+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),y={node:"https://api.hive.blog",chain_id:"beeab0de00000000000000000000000000000000000000000000000000000000",address_prefix:"STM"},w={};(function(t){const e=y.address_prefix;class r{static fromString(t){const{key:e,prefix:n}=i(t);return new r(e,n)}static from(t){return t instanceof r?t:r.fromString(t)}constructor(t,r=e){this.key=t,this.prefix=r}}const i=e=>{const r=e.slice(0,3);return e=e.slice(3),{key:t.from(d.decode(e)).slice(0,-4),prefix:r}};w=r}).call(this,r({}).Buffer);class m{static fromString(t,e=null){const[r,i]=t.split(" ");if(e&&i!==e)throw new Error(`Invalid asset, expected symbol: ${e} got: ${i}`);const n=Number.parseFloat(r);if(!Number.isFinite(n))throw new Error(`Invalid asset amount: ${r}`);return new m(n,i)}static from(t,e=null){if(t instanceof m){if(e&&t.symbol!==e)throw new Error(`Invalid asset, expected symbol: ${e} got: ${t.symbol}`);return t}if("number"==typeof t&&Number.isFinite(t))return new m(t,e||"STEEM");if("string"==typeof t)return m.fromString(t,e);throw new Error(`Invalid asset '${String(t)}'`)}constructor(t,e){this.amount=t,this.symbol="HIVE"===e?"STEEM":"HBD"===e?"SBD":e}getPrecision(){switch(this.symbol){case"VESTS":return 6;default:return 3}}toString(){return`${this.amount.toFixed(this.getPrecision())} ${this.symbol}`}toJSON(){return this.toString()}}var v=m,E={};(function(t){class e{static from(r){return r instanceof e?r:new e(r instanceof t?r:"string"==typeof r?t.from(r,"hex"):t.from(r))}constructor(t){this.buffer=t}toString(t="hex"){return this.buffer.toString(t)}toJSON(){return this.toString()}}E=e}).call(this,r({}).Buffer);var I={};(function(t){const e=()=>{throw new Error("Void can not be serialized")},r=(t,e)=>{t.writeVString(e)},i=(t,e)=>{t.writeInt16(e)},n=(t,e)=>{t.writeInt64(e)},o=(t,e)=>{t.writeUint16(e)},f=(t,e)=>{t.writeUint32(e)},s=(t,e)=>{t.writeUint64(e)},h=(t,e)=>{t.writeByte(e?1:0)},a=t=>(e,r)=>{let i=r[0];const n=r[1];"string"==typeof i&&(i="update_proposal_end_date"===i?1:0),e.writeVarint32(i),t[i](e,n)},u=(t,e)=>{const r=v.from(e),i=r.getPrecision();t.writeInt64(Math.round(r.amount*Math.pow(10,i))),t.writeUint8(i);for(let n=0;n<7;n++)t.writeUint8(r.symbol.charCodeAt(n)||0)},l=(t,e)=>{t.writeUint32(Math.floor(new Date(e+"Z").getTime()/1e3))},g=(e,r)=>{null===r||"string"==typeof r&&"1111111111111111111111111111111114T1Anm"===r.slice(-39)?e.append(t.alloc(33,0)):e.append(w.from(r).key)},c=(t=null)=>(e,r)=>{const i=(r=E.from(r)).buffer.length;if(t){if(i!==t)throw new Error(`Unable to serialize binary. Expected ${t} bytes, got ${i}`)}else e.writeVarint32(i);e.append(r.buffer)},p=c(),b=(t,e)=>(r,i)=>{r.writeVarint32(i.length);for(const[n,o]of i)t(r,n),e(r,o)},d=t=>(e,r)=>{e.writeVarint32(r.length);for(const i of r)t(e,i)},y=t=>(e,r)=>{for(const[n,o]of t)try{o(e,r[n])}catch(i){throw i.message=`${n}: ${i.message}`,i}},m=t=>(e,r)=>{void 0!==r?(e.writeByte(1),t(e,r)):e.writeByte(0)},_=y([["weight_threshold",f],["account_auths",b(r,o)],["key_auths",b(g,o)]]),T=y([["account",r],["weight",o]]),A=y([["base",u],["quote",u]]),U=y([["previous",c(20)],["timestamp",l],["witness",r],["transaction_merkle_root",c(20)],["extensions",d(e)],["witness_signature",c(65)]]),B=y([["account_creation_fee",u],["maximum_block_size",f],["hbd_interest_rate",o]]),S=(t,e)=>{const r=y(e);return(e,i)=>{e.writeVarint32(t),r(e,i)}},R={};R.account_create=S(9,[["fee",u],["creator",r],["new_account_name",r],["owner",_],["active",_],["posting",_],["memo_key",g],["json_metadata",r]]),R.account_create_with_delegation=S(41,[["fee",u],["delegation",u],["creator",r],["new_account_name",r],["owner",_],["active",_],["posting",_],["memo_key",g],["json_metadata",r],["extensions",d(e)]]),R.account_update=S(10,[["account",r],["owner",m(_)],["active",m(_)],["posting",m(_)],["memo_key",g],["json_metadata",r]]),R.account_witness_proxy=S(13,[["account",r],["proxy",r]]),R.account_witness_vote=S(12,[["account",r],["witness",r],["approve",h]]),R.cancel_transfer_from_savings=S(34,[["from",r],["request_id",f]]),R.change_recovery_account=S(26,[["account_to_recover",r],["new_recovery_account",r],["extensions",d(e)]]),R.claim_account=S(22,[["creator",r],["fee",u],["extensions",d(e)]]),R.claim_reward_balance=S(39,[["account",r],["reward_hive",u],["reward_hbd",u],["reward_vests",u]]),R.comment=S(1,[["parent_author",r],["parent_permlink",r],["author",r],["permlink",r],["title",r],["body",r],["json_metadata",r]]),R.comment_options=S(19,[["author",r],["permlink",r],["max_accepted_payout",u],["percent_hbd",o],["allow_votes",h],["allow_curation_rewards",h],["extensions",d(a([y([["beneficiaries",d(T)]])]))]]),R.convert=S(8,[["owner",r],["requestid",f],["amount",u]]),R.create_claimed_account=S(23,[["creator",r],["new_account_name",r],["owner",_],["active",_],["posting",_],["memo_key",g],["json_metadata",r],["extensions",d(e)]]),R.custom=S(15,[["required_auths",d(r)],["id",o],["data",p]]),R.custom_binary=S(35,[["required_owner_auths",d(r)],["required_active_auths",d(r)],["required_posting_auths",d(r)],["required_auths",d(_)],["id",r],["data",p]]),R.custom_json=S(18,[["required_auths",d(r)],["required_posting_auths",d(r)],["id",r],["json",r]]),R.decline_voting_rights=S(36,[["account",r],["decline",h]]),R.delegate_vesting_shares=S(40,[["delegator",r],["delegatee",r],["vesting_shares",u]]),R.delete_comment=S(17,[["author",r],["permlink",r]]),R.escrow_approve=S(31,[["from",r],["to",r],["agent",r],["who",r],["escrow_id",f],["approve",h]]),R.escrow_dispute=S(28,[["from",r],["to",r],["agent",r],["who",r],["escrow_id",f]]),R.escrow_release=S(29,[["from",r],["to",r],["agent",r],["who",r],["receiver",r],["escrow_id",f],["hbd_amount",u],["hive_amount",u]]),R.escrow_transfer=S(27,[["from",r],["to",r],["agent",r],["escrow_id",f],["hbd_amount",u],["hive_amount",u],["fee",u],["ratification_deadline",l],["escrow_expiration",l],["json_meta",r]]),R.feed_publish=S(7,[["publisher",r],["exchange_rate",A]]),R.limit_order_cancel=S(6,[["owner",r],["orderid",f]]),R.limit_order_create=S(5,[["owner",r],["orderid",f],["amount_to_sell",u],["min_to_receive",u],["fill_or_kill",h],["expiration",l]]),R.limit_order_create2=S(21,[["owner",r],["orderid",f],["amount_to_sell",u],["fill_or_kill",h],["exchange_rate",A],["expiration",l]]),R.recover_account=S(25,[["account_to_recover",r],["new_owner_authority",_],["recent_owner_authority",_],["extensions",d(e)]]),R.report_over_production=S(16,[["reporter",r],["first_block",U],["second_block",U]]),R.request_account_recovery=S(24,[["recovery_account",r],["account_to_recover",r],["new_owner_authority",_],["extensions",d(e)]]),R.reset_account=S(37,[["reset_account",r],["account_to_reset",r],["new_owner_authority",_]]),R.set_reset_account=S(38,[["account",r],["current_reset_account",r],["reset_account",r]]),R.set_withdraw_vesting_route=S(20,[["from_account",r],["to_account",r],["percent",o],["auto_vest",h]]),R.transfer=S(2,[["from",r],["to",r],["amount",u],["memo",r]]),R.transfer_from_savings=S(33,[["from",r],["request_id",f],["to",r],["amount",u],["memo",r]]),R.transfer_to_savings=S(32,[["from",r],["to",r],["amount",u],["memo",r]]),R.transfer_to_vesting=S(3,[["from",r],["to",r],["amount",u]]),R.vote=S(0,[["voter",r],["author",r],["permlink",r],["weight",i]]),R.withdraw_vesting=S(4,[["account",r],["vesting_shares",u]]),R.witness_update=S(11,[["owner",r],["url",r],["block_signing_key",g],["props",B],["fee",u]]),R.witness_set_properties=S(42,[["owner",r],["props",b(r,p)],["extensions",d(e)]]),R.account_update2=S(43,[["account",r],["owner",m(_)],["active",m(_)],["posting",m(_)],["memo_key",m(g)],["json_metadata",r],["posting_json_metadata",r],["extensions",d(e)]]),R.create_proposal=S(44,[["creator",r],["receiver",r],["start_date",l],["end_date",l],["daily_pay",u],["subject",r],["permlink",r],["extensions",d(e)]]),R.update_proposal_votes=S(45,[["voter",r],["proposal_ids",d(n)],["approve",h],["extensions",d(e)]]),R.remove_proposal=S(46,[["proposal_owner",r],["proposal_ids",d(n)],["extensions",d(e)]]);const N=y([["end_date",l]]);R.update_proposal=S(47,[["proposal_id",s],["creator",r],["daily_pay",u],["subject",r],["permlink",r],["extensions",d(a([e,N]))]]),R.collateralized_convert=S(48,[["owner",r],["requestid",f],["amount",u]]),R.recurrent_transfer=S(49,[["from",r],["to",r],["amount",u],["memo",r],["recurrence",o],["executions",o],["extensions",d(e)]]);const x=(t,e)=>{const r=R[e[0]];if(!r)throw new Error(`No serializer for operation: ${e[0]}`);try{r(t,e[1])}catch(i){throw i.message=`${e[0]}: ${i.message}`,i}},k=y([["ref_block_num",o],["ref_block_prefix",f],["expiration",l],["operations",d(x)],["extensions",d(r)]]),O=y([["ref_block_num",o],["ref_block_prefix",f],["expiration",l],["operations",d(x)],["extensions",d(r)],["signatures",d(c(65))]]),L=y([["from",g],["to",g],["nonce",s],["check",f],["encrypted",c()]]),F=y([["previous",c(20)],["timestamp",l],["witness",r],["transaction_merkle_root",c(20)],["extensions",d(e)],["witness_signature",c(65)],["transactions",d(O)]]);I={Array:d,Asset:u,Authority:_,Binary:c,Block:F,Boolean:h,Date:l,FlatMap:b,Int16:i,Int32:(t,e)=>{t.writeInt32(e)},Int64:n,Int8:(t,e)=>{t.writeInt8(e)},Memo:L,Object:y,Operation:x,Optional:m,Price:A,PublicKey:g,StaticVariant:a,String:r,Transaction:k,UInt16:o,UInt32:f,UInt64:s,UInt8:(t,e)=>{t.writeUint8(e)},Void:e}}).call(this,r({}).Buffer);var _={};(function(t){_=(()=>t.from(y.chain_id,"hex"))}).call(this,r({}).Buffer);var T={};(function(t){T={transactionDigest:(e,r,i=_())=>{const n=new b(b.DEFAULT_CAPACITY,b.LITTLE_ENDIAN);try{I.Transaction(n,r)}catch(s){throw new Error("Unable to serialize transaction")}n.flip();const o=t.from(n.toBuffer()),f=e(o).toString("hex").slice(0,40);return{digest:e(t.concat([i,o])),txId:f}}}}).call(this,r({}).Buffer);var A=async(t,e=[],r="",i=10)=>{let n=0;return new Promise((o,f)=>{fetch(r||y.node,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:t,params:e,id:1})}).then(t=>{t&&200===t.status&&(n=1,t.json().then(t=>o(t)))}),setTimeout(()=>{n||f(new Error("Network timeout."))},1e3*i)})},U={};(function(t){U=(async(e,r,i)=>{const n=r?1e3*r:6e4,o=await(async t=>{const e=await A("condenser_api.get_dynamic_global_properties",[],t);if(!e)throw new Error("Couldn't resolve global properties");if(e&&(!e.id||!e.result))throw new Error("Bad response @ global props");return e.result})(i),f=65535&o.head_block_number,s=t.from(o.head_block_id,"hex").readUInt32LE(4);return{expiration:new Date(Date.now()+n).toISOString().slice(0,-5),extensions:[],operations:e,ref_block_num:f,ref_block_prefix:s}})}).call(this,r({}).Buffer);var B={};return function(t){const{transactionDigest:e}=T;B={Transaction:class{constructor(e,r=null,i=_()){"string"==typeof i&&(i=t.from(i,"hex")),this.created=!0,r||(this.created=!1),this.transaction=r,this.chainId=i,this.sha256Lib=e}async create(t,e=60,r=""){return this.transaction=await U(t,e,r),this.created=!0,this.transaction}serialize(){if(!this.created)throw new Error("First create a transaction by .create(operations)");const{digest:t,txId:r}=e(this.sha256Lib,this.transaction,this.chainId);return this.txId=r,t}appendSignature(t){if(!this.created)throw new Error("First create a transaction by .create(operations)");if(!this.txId)throw new Error("Tx id not available yet, serialize() first to generate digest to be signed");this.signedTransaction||(this.signedTransaction={...this.transaction},this.signedTransaction.signatures||(this.signedTransaction.signatures=[])),this.signedTransaction.signatures.push(t)}async broadcast(t=""){if(!this.created)throw new Error("First create a transaction by .create(operations)");if(!this.signedTransaction)throw new Error("Sign transaction first and append signature with appendSignature()");const e=await(async(t,e="")=>await A("condenser_api.broadcast_transaction",[t],e))(this.signedTransaction,t);return e.error?e:{id:1,jsonrpc:"2.0",result:{tx_id:this.txId,status:"unknown"}}}},call:A,config:y}}.call(this,r({}).Buffer),B});