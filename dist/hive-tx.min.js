!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).hiveTx=t()}}(function(){var t,e,r,i=(t=function(t,r){(function(t){"use strict";var i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=t,r.INSPECT_MAX_BYTES=50;var n=2147483647;function o(e){if(e>n)throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=new Uint8Array(e);return Object.setPrototypeOf(r,t.prototype),r}function t(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return s(t,e,r)}function s(e,r,i){if("string"==typeof e)return function(e,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var i=0|g(e,r),n=o(i),s=n.write(e,r);return s!==i&&(n=n.slice(0,s)),n}(e,r);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return function(e,r,i){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i),Object.setPrototypeOf(n,t.prototype),n}(e,r,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return t.from(n,r,i);var s=function(e){if(t.isBuffer(e)){var r=0|l(e.length),i=o(r);return 0===i.length?i:(e.copy(i,0,0,r),i)}return void 0!==e.length?"number"!=typeof e.length||D(e.length)?o(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),r,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return f(t),o(t<0?0:0|l(t))}function u(t){for(var e=t.length<0?0:0|l(t.length),r=o(e),i=0;i<e;i+=1)r[i]=255&t[i];return r}function l(t){if(t>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|t}function g(e,r){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;for(var o=!1;;)switch(r){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return C(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return M(e).length;default:if(o)return n?-1:C(e).length;r=(""+r).toLowerCase(),o=!0}}function c(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function w(e,r,i,n,o){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),D(i=+i)&&(i=o?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(o)return-1;i=e.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof r&&(r=t.from(r,n)),t.isBuffer(r))return 0===r.length?-1:y(e,r,i,n,o);if("number"==typeof r)return r&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,r,i):Uint8Array.prototype.lastIndexOf.call(e,r,i):y(e,[r],i,n,o);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,i,n){var o,s=1,f=t.length,h=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,f/=2,h/=2,r/=2}function a(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(n){var u=-1;for(o=r;o<f;o++)if(a(t,o)===a(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===h)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(r+h>f&&(r=f-h),o=r;o>=0;o--){for(var l=!0,g=0;g<h;g++)if(a(t,o+g)!==a(e,g)){l=!1;break}if(l)return o}return-1}function p(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=e.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var f=parseInt(e.substr(2*s,2),16);if(D(f))return s;t[r+s]=f}return s}function d(t,e,r,i){return z(C(e,t.length-r),t,r,i)}function b(t,e,r,i){return z(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function m(t,e,r,i){return b(t,e,r,i)}function E(t,e,r,i){return z(M(e),t,r,i)}function I(t,e,r,i){return z(function(t,e){for(var r,i,n,o=[],s=0;s<t.length&&!((e-=2)<0);++s)i=(r=t.charCodeAt(s))>>8,n=r%256,o.push(n),o.push(i);return o}(e,t.length-r),t,r,i)}function T(t,e,r){return 0===e&&r===t.length?a.fromByteArray(t):a.fromByteArray(t.slice(e,r))}function _(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o,s,f,h,a=t[n],u=null,l=a>239?4:a>223?3:a>191?2:1;if(n+l<=r)switch(l){case 1:a<128&&(u=a);break;case 2:128==(192&(o=t[n+1]))&&(h=(31&a)<<6|63&o)>127&&(u=h);break;case 3:o=t[n+1],s=t[n+2],128==(192&o)&&128==(192&s)&&(h=(15&a)<<12|(63&o)<<6|63&s)>2047&&(h<55296||h>57343)&&(u=h);break;case 4:o=t[n+1],s=t[n+2],f=t[n+3],128==(192&o)&&128==(192&s)&&128==(192&f)&&(h=(15&a)<<18|(63&o)<<12|(63&s)<<6|63&f)>65535&&h<1114112&&(u=h)}null===u?(u=65533,l=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),n+=l}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=A));return r}(i)}t.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(t,r),42===t.foo()}catch(e){return!1}}(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(t,e,r){return s(t,e,r)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?o(t):void 0!==e?"string"==typeof r?o(t).fill(e,r):o(t).fill(e):o(t)}(t,e,r)},t.allocUnsafe=function(t){return h(t)},t.allocUnsafeSlow=function(t){return h(t)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,r){if(V(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),V(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(e)||!t.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var i=e.length,n=r.length,o=0,s=Math.min(i,n);o<s;++o)if(e[o]!==r[o]){i=e[o],n=r[o];break}return i<n?-1:n<i?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var i;if(void 0===r)for(r=0,i=0;i<e.length;++i)r+=e[i].length;var n=t.allocUnsafe(r),o=0;for(i=0;i<e.length;++i){var s=e[i];if(V(s,Uint8Array)&&(s=t.from(s)),!t.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},t.byteLength=g,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)c(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)c(this,e,e+3),c(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)c(this,e,e+7),c(this,e+1,e+6),c(this,e+2,e+5),c(this,e+3,e+4);return this},t.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?_(this,0,t):function(t,e,r){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,r);case"utf8":case"utf-8":return _(this,e,r);case"ascii":return U(this,e,r);case"latin1":case"binary":return L(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},i&&(t.prototype[i]=t.prototype.inspect),t.prototype.compare=function(e,r,i,n,o){if(V(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),r<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&r>=i)return 0;if(n>=o)return-1;if(r>=i)return 1;if(this===e)return 0;for(var s=(o>>>=0)-(n>>>=0),f=(i>>>=0)-(r>>>=0),h=Math.min(s,f),a=this.slice(n,o),u=e.slice(r,i),l=0;l<h;++l)if(a[l]!==u[l]){s=a[l],f=u[l];break}return s<f?-1:f<s?1:0},t.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},t.prototype.indexOf=function(t,e,r){return w(this,t,e,r,!0)},t.prototype.lastIndexOf=function(t,e,r){return w(this,t,e,r,!1)},t.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return p(this,t,e,r);case"utf8":case"utf-8":return d(this,t,e,r);case"ascii":return b(this,t,e,r);case"latin1":case"binary":return m(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function U(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function L(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function B(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=j[t[o]];return n}function S(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,r,i,n,o,s){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>o||r<s)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function x(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(t,e,r,i,n){return e=+e,r>>>=0,n||x(t,0,r,4),v.write(t,e,r,i,23,4),r+4}function O(t,e,r,i,n){return e=+e,r>>>=0,n||x(t,0,r,8),v.write(t,e,r,i,52,8),r+8}t.prototype.slice=function(e,r){var i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(r=void 0===r?i:~~r)<0?(r+=i)<0&&(r=0):r>i&&(r=i),r<e&&(r=e);var n=this.subarray(e,r);return Object.setPrototypeOf(n,t.prototype),n},t.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i},t.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},t.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},t.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),v.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),v.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),v.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),v.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,r,i){t=+t,e>>>=0,r>>>=0,i||N(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[e]=255&t;++o<r&&(n*=256);)this[e+o]=t/n&255;return e+r},t.prototype.writeUIntBE=function(t,e,r,i){t=+t,e>>>=0,r>>>=0,i||N(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+r},t.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,1,255,0),this[e]=255&t,e+1},t.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},t.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},t.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},t.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},t.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);N(this,t,e,r,n-1,-n)}var o=0,s=1,f=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===f&&0!==this[e+o-1]&&(f=1),this[e+o]=(t/s>>0)-f&255;return e+r},t.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);N(this,t,e,r,n-1,-n)}var o=r-1,s=1,f=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===f&&0!==this[e+o+1]&&(f=1),this[e+o]=(t/s>>0)-f&255;return e+r},t.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},t.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},t.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},t.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},t.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},t.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},t.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},t.prototype.writeDoubleLE=function(t,e,r){return O(this,t,e,!0,r)},t.prototype.writeDoubleBE=function(t,e,r){return O(this,t,e,!1,r)},t.prototype.copy=function(e,r,i,n){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);var o=n-i;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,i,n);else if(this===e&&i<r&&r<n)for(var s=o-1;s>=0;--s)e[s+r]=this[s+i];else Uint8Array.prototype.set.call(e,this.subarray(i,n),r);return o},t.prototype.fill=function(e,r,i,n){if("string"==typeof e){if("string"==typeof r?(n=r,r=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!t.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;var s;if(r>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(s=r;s<i;++s)this[s]=e;else{var f=t.isBuffer(e)?e:t.from(e,n),h=f.length;if(0===h)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-r;++s)this[s+r]=f[s%h]}return this};var k=/[^+/0-9A-Za-z-_]/g;function C(t,e){var r;e=e||1/0;for(var i=t.length,n=null,o=[],s=0;s<i;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function M(t){return a.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(k,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function V(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function D(t){return t!=t}var j=function(){for(var t=new Array(256),e=0;e<16;++e)for(var r=16*e,i=0;i<16;++i)t[r+i]="0123456789abcdef"[e]+"0123456789abcdef"[i];return t}()}).call(this,i({}).Buffer)},function(r){return e||t(e={exports:{},parent:r},e.exports),e.exports}),n={exports:{}};r=function(){"use strict";function t(t,e,r){this.low=0|t,this.high=0|e,this.unsigned=!!r}function e(t){return!0===(t&&t.__isLong__)}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),t.isLong=e;var r={},i={};function n(t,e){var n,o,f;return e?(f=0<=(t>>>=0)&&t<256)&&(o=i[t])?o:(n=s(t,(0|t)<0?-1:0,!0),f&&(i[t]=n),n):(f=-128<=(t|=0)&&t<128)&&(o=r[t])?o:(n=s(t,t<0?-1:0,!1),f&&(r[t]=n),n)}function o(t,e){if(isNaN(t)||!isFinite(t))return e?y:w;if(e){if(t<0)return y;if(t>=l)return m}else{if(t<=-g)return E;if(t+1>=g)return b}return t<0?o(-t,e).neg():s(t%u|0,t/u|0,e)}function s(e,r,i){return new t(e,r,i)}t.fromInt=n,t.fromNumber=o,t.fromBits=s;var f=Math.pow;function h(t,e,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return w;if("number"==typeof e?(r=e,e=!1):e=!!e,(r=r||10)<2||36<r)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return h(t.substring(1),e,r).neg();for(var n=o(f(r,8)),s=w,a=0;a<t.length;a+=8){var u=Math.min(8,t.length-a),l=parseInt(t.substring(a,a+u),r);if(u<8){var g=o(f(r,u));s=s.mul(g).add(o(l))}else s=(s=s.mul(n)).add(o(l))}return s.unsigned=e,s}function a(e){return e instanceof t?e:"number"==typeof e?o(e):"string"==typeof e?h(e):s(e.low,e.high,e.unsigned)}t.fromString=h,t.fromValue=a;var u=4294967296,l=u*u,g=l/2,c=n(1<<24),w=n(0);t.ZERO=w;var y=n(0,!0);t.UZERO=y;var p=n(1);t.ONE=p;var d=n(1,!0);t.UONE=d;var v=n(-1);t.NEG_ONE=v;var b=s(-1,2147483647,!1);t.MAX_VALUE=b;var m=s(-1,-1,!0);t.MAX_UNSIGNED_VALUE=m;var E=s(0,-2147483648,!1);t.MIN_VALUE=E;var I=t.prototype;return I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*u+(this.low>>>0):this.high*u+(this.low>>>0)},I.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var e=o(t),r=this.div(e),i=r.mul(e).sub(this);return r.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var n=o(f(t,6),this.unsigned),s=this,h="";;){var a=s.div(n),u=(s.sub(a.mul(n)).toInt()>>>0).toString(t);if((s=a).isZero())return u+h;for(;u.length<6;)u="0"+u;h=""+u+h}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},I.isZero=function(){return 0===this.high&&0===this.low},I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return 1==(1&this.low)},I.isEven=function(){return 0==(1&this.low)},I.equals=function(t){return e(t)||(t=a(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},I.eq=I.equals,I.notEquals=function(t){return!this.eq(t)},I.neq=I.notEquals,I.lessThan=function(t){return this.comp(t)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(t){return this.comp(t)<=0},I.lte=I.lessThanOrEqual,I.greaterThan=function(t){return this.comp(t)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(t){return this.comp(t)>=0},I.gte=I.greaterThanOrEqual,I.compare=function(t){if(e(t)||(t=a(t)),this.eq(t))return 0;var r=this.isNegative(),i=t.isNegative();return r&&!i?-1:!r&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(p)},I.neg=I.negate,I.add=function(t){e(t)||(t=a(t));var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,o=65535&this.low,f=t.high>>>16,h=65535&t.high,u=t.low>>>16,l=0,g=0,c=0,w=0;return c+=(w+=o+(65535&t.low))>>>16,g+=(c+=n+u)>>>16,l+=(g+=i+h)>>>16,l+=r+f,s((c&=65535)<<16|(w&=65535),(l&=65535)<<16|(g&=65535),this.unsigned)},I.subtract=function(t){return e(t)||(t=a(t)),this.add(t.neg())},I.sub=I.subtract,I.multiply=function(t){if(this.isZero())return w;if(e(t)||(t=a(t)),t.isZero())return w;if(this.eq(E))return t.isOdd()?E:w;if(t.eq(E))return this.isOdd()?E:w;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(c)&&t.lt(c))return o(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,f=65535&this.low,h=t.high>>>16,u=65535&t.high,l=t.low>>>16,g=65535&t.low,y=0,p=0,d=0,v=0;return d+=(v+=f*g)>>>16,p+=(d+=n*g)>>>16,d&=65535,p+=(d+=f*l)>>>16,y+=(p+=i*g)>>>16,p&=65535,y+=(p+=n*l)>>>16,p&=65535,y+=(p+=f*u)>>>16,y+=r*g+i*l+n*u+f*h,s((d&=65535)<<16|(v&=65535),(y&=65535)<<16|(p&=65535),this.unsigned)},I.mul=I.multiply,I.divide=function(t){if(e(t)||(t=a(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?y:w;var r,i,n;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return y;if(t.gt(this.shru(1)))return d;n=y}else{if(this.eq(E))return t.eq(p)||t.eq(v)?E:t.eq(E)?p:(r=this.shr(1).div(t).shl(1)).eq(w)?t.isNegative()?p:v:(i=this.sub(t.mul(r)),n=r.add(i.div(t)));if(t.eq(E))return this.unsigned?y:w;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();n=w}for(i=this;i.gte(t);){r=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(r)/Math.LN2),h=s<=48?1:f(2,s-48),u=o(r),l=u.mul(t);l.isNegative()||l.gt(i);)l=(u=o(r-=h,this.unsigned)).mul(t);u.isZero()&&(u=p),n=n.add(u),i=i.sub(l)}return n},I.div=I.divide,I.modulo=function(t){return e(t)||(t=a(t)),this.sub(this.div(t).mul(t))},I.mod=I.modulo,I.not=function(){return s(~this.low,~this.high,this.unsigned)},I.and=function(t){return e(t)||(t=a(t)),s(this.low&t.low,this.high&t.high,this.unsigned)},I.or=function(t){return e(t)||(t=a(t)),s(this.low|t.low,this.high|t.high,this.unsigned)},I.xor=function(t){return e(t)||(t=a(t)),s(this.low^t.low,this.high^t.high,this.unsigned)},I.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?s(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):s(0,this.low<<t-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?s(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):s(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(t){if(e(t)&&(t=t.toInt()),0==(t&=63))return this;var r=this.high;return t<32?s(this.low>>>t|r<<32-t,r>>>t,this.unsigned):s(32===t?r:r>>>t-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)},I.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},I.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t},n&&n.exports?n.exports=r():(this.dcodeIO=this.dcodeIO||{}).Long=r(),n=n.exports;var o,s={exports:{}};o=function(t){"use strict";var r=function(t,e,i){if(void 0===t&&(t=r.DEFAULT_CAPACITY),void 0===e&&(e=r.DEFAULT_ENDIAN),void 0===i&&(i=r.DEFAULT_NOASSERT),!i){if((t|=0)<0)throw RangeError("Illegal capacity");e=!!e,i=!!i}this.buffer=0===t?n:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=e,this.noAssert=i};r.VERSION="5.0.1",r.LITTLE_ENDIAN=!0,r.BIG_ENDIAN=!1,r.DEFAULT_CAPACITY=16,r.DEFAULT_ENDIAN=r.BIG_ENDIAN,r.DEFAULT_NOASSERT=!1,r.Long=t||null;var i=r.prototype;i.__isByteBuffer__,Object.defineProperty(i,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var n=new ArrayBuffer(0),o=String.fromCharCode;function s(t){var e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}function f(){var t=[],e=[];return function(){if(0===arguments.length)return e.join("")+o.apply(String,t);t.length+arguments.length>1024&&(e.push(o.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}function h(t,e,r,i,n){var o,s,f=8*n-i-1,h=(1<<f)-1,a=h>>1,u=-7,l=r?n-1:0,g=r?-1:1,c=t[e+l];for(l+=g,o=c&(1<<-u)-1,c>>=-u,u+=f;u>0;o=256*o+t[e+l],l+=g,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+t[e+l],l+=g,u-=8);if(0===o)o=1-a;else{if(o===h)return s?NaN:1/0*(c?-1:1);s+=Math.pow(2,i),o-=a}return(c?-1:1)*s*Math.pow(2,o-i)}function a(t,e,r,i,n,o){var s,f,h,a=8*o-n-1,u=(1<<a)-1,l=u>>1,g=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,c=i?0:o-1,w=i?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-s))<1&&(s--,h*=2),(e+=s+l>=1?g/h:g*Math.pow(2,1-l))*h>=2&&(s++,h/=2),s+l>=u?(f=0,s=u):s+l>=1?(f=(e*h-1)*Math.pow(2,n),s+=l):(f=e*Math.pow(2,l-1)*Math.pow(2,n),s=0));n>=8;t[r+c]=255&f,c+=w,f/=256,n-=8);for(s=s<<n|f,a+=n;a>0;t[r+c]=255&s,c+=w,s/=256,a-=8);t[r+c-w]|=128*y}r.accessor=function(){return Uint8Array},r.allocate=function(t,e,i){return new r(t,e,i)},r.concat=function(t,e,i,n){"boolean"!=typeof e&&"string"==typeof e||(n=i,i=e,e=void 0);for(var o,s=0,f=0,h=t.length;f<h;++f)r.isByteBuffer(t[f])||(t[f]=r.wrap(t[f],e)),(o=t[f].limit-t[f].offset)>0&&(s+=o);if(0===s)return new r(0,i,n);var a,u=new r(s,i,n);for(f=0;f<h;)(o=(a=t[f++]).limit-a.offset)<=0||(u.view.set(a.view.subarray(a.offset,a.limit),u.offset),u.offset+=o);return u.limit=u.offset,u.offset=0,u},r.isByteBuffer=function(t){return!0===(t&&t.__isByteBuffer__)},r.type=function(){return ArrayBuffer},r.wrap=function(t,e,n,o){if("string"!=typeof e&&(o=n,n=e,e=void 0),"string"==typeof t)switch(void 0===e&&(e="utf8"),e){case"base64":return r.fromBase64(t,n);case"hex":return r.fromHex(t,n);case"binary":return r.fromBinary(t,n);case"utf8":return r.fromUTF8(t,n);case"debug":return r.fromDebug(t,n);default:throw Error("Unsupported encoding: "+e)}if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");var s;if(r.isByteBuffer(t))return(s=i.clone.call(t)).markedOffset=-1,s;if(t instanceof Uint8Array)s=new r(0,n,o),t.length>0&&(s.buffer=t.buffer,s.offset=t.byteOffset,s.limit=t.byteOffset+t.byteLength,s.view=new Uint8Array(t.buffer));else if(t instanceof ArrayBuffer)s=new r(0,n,o),t.byteLength>0&&(s.buffer=t,s.offset=0,s.limit=t.byteLength,s.view=t.byteLength>0?new Uint8Array(t):null);else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");(s=new r(t.length,n,o)).limit=t.length;for(var f=0;f<t.length;++f)s.view[f]=t[f]}return s},i.writeBitSet=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if(!(t instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i,n=e,o=t.length,s=o>>3,f=0;for(e+=this.writeVarint32(o,e);s--;)i=1&!!t[f++]|(1&!!t[f++])<<1|(1&!!t[f++])<<2|(1&!!t[f++])<<3|(1&!!t[f++])<<4|(1&!!t[f++])<<5|(1&!!t[f++])<<6|(1&!!t[f++])<<7,this.writeByte(i,e++);if(f<o){var h=0;for(i=0;f<o;)i|=(1&!!t[f++])<<h++;this.writeByte(i,e++)}return r?(this.offset=e,this):e-n},i.readBitSet=function(t){var e=void 0===t;e&&(t=this.offset);var r,i=this.readVarint32(t),n=i.value,o=n>>3,s=0,f=[];for(t+=i.length;o--;)r=this.readByte(t++),f[s++]=!!(1&r),f[s++]=!!(2&r),f[s++]=!!(4&r),f[s++]=!!(8&r),f[s++]=!!(16&r),f[s++]=!!(32&r),f[s++]=!!(64&r),f[s++]=!!(128&r);if(s<n){var h=0;for(r=this.readByte(t++);s<n;)f[s++]=!!(r>>h++&1)}return e&&(this.offset=t),f},i.readBytes=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}var i=this.slice(e,e+t);return r&&(this.offset+=t),i},i.writeBytes=i.append,i.writeInt8=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=1,this.view[e]=t,r&&(this.offset+=1),this},i.writeByte=i.writeInt8,i.readInt8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return 128==(128&r)&&(r=-(255-r+1)),e&&(this.offset+=1),r},i.readByte=i.readInt8,i.writeUint8=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=1,this.view[e]=t,r&&(this.offset+=1),this},i.writeUInt8=i.writeUint8,i.readUint8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return e&&(this.offset+=1),r},i.readUInt8=i.readUint8,i.writeInt16=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},i.writeShort=i.writeInt16,i.readInt16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),32768==(32768&r)&&(r=-(65535-r+1)),e&&(this.offset+=2),r},i.readShort=i.readInt16,i.writeUint16=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},i.writeUInt16=i.writeUint16,i.readUint16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),e&&(this.offset+=2),r},i.readUInt16=i.readUint16,i.writeInt32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},i.writeInt=i.writeInt32,i.readInt32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),r|=0,e&&(this.offset+=4),r},i.readInt=i.readInt32,i.writeUint32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},i.writeUInt32=i.writeUint32,i.readUint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),e&&(this.offset+=4),r},i.readUInt32=i.readUint32,t&&(i.writeInt64=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e)),r+=8;var n=this.buffer.byteLength;r>n&&this.resize((n*=2)>r?n:r),r-=8;var o=e.low,s=e.high;return this.littleEndian?(this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o,r+=4,this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s):(this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s,r+=4,this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o),i&&(this.offset+=8),this},i.writeLong=i.writeInt64,i.readInt64=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var i=0,n=0;this.littleEndian?(i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0,e+=4,n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0,e+=4,i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0);var o=new t(i,n,!1);return r&&(this.offset+=8),o},i.readLong=i.readInt64,i.writeUint64=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e)),r+=8;var n=this.buffer.byteLength;r>n&&this.resize((n*=2)>r?n:r),r-=8;var o=e.low,s=e.high;return this.littleEndian?(this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o,r+=4,this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s):(this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s,r+=4,this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o),i&&(this.offset+=8),this},i.writeUInt64=i.writeUint64,i.readUint64=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var i=0,n=0;this.littleEndian?(i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0,e+=4,n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0,e+=4,i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0);var o=new t(i,n,!0);return r&&(this.offset+=8),o},i.readUInt64=i.readUint64),i.writeFloat32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=4,a(this.view,t,e,this.littleEndian,23,4),r&&(this.offset+=4),this},i.writeFloat=i.writeFloat32,i.readFloat32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=h(this.view,t,this.littleEndian,23,4);return e&&(this.offset+=4),r},i.readFloat=i.readFloat32,i.writeFloat64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=8,a(this.view,t,e,this.littleEndian,52,8),r&&(this.offset+=8),this},i.writeDouble=i.writeFloat64,i.readFloat64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=h(this.view,t,this.littleEndian,52,8);return e&&(this.offset+=8),r},i.readDouble=i.readFloat64,r.MAX_VARINT32_BYTES=5,r.calculateVarint32=function(t){return(t>>>=0)<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5},r.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},r.zigZagDecode32=function(t){return t>>>1^-(1&t)|0},i.writeVarint32=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var n,o=r.calculateVarint32(t);e+=o;var s=this.buffer.byteLength;for(e>s&&this.resize((s*=2)>e?s:e),e-=o,t>>>=0;t>=128;)n=127&t|128,this.view[e++]=n,t>>>=7;return this.view[e++]=t,i?(this.offset=e,this):o},i.writeVarint32ZigZag=function(t,e){return this.writeVarint32(r.zigZagEncode32(t),e)},i.readVarint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,i=0,n=0;do{if(!this.noAssert&&t>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}r=this.view[t++],i<5&&(n|=(127&r)<<7*i),++i}while(0!=(128&r));return n|=0,e?(this.offset=t,n):{value:n,length:i}},i.readVarint32ZigZag=function(t){var e=this.readVarint32(t);return"object"==typeof e?e.value=r.zigZagDecode32(e.value):e=r.zigZagDecode32(e),e},t&&(r.MAX_VARINT64_BYTES=10,r.calculateVarint64=function(e){"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e));var r=e.toInt()>>>0,i=e.shiftRightUnsigned(28).toInt()>>>0,n=e.shiftRightUnsigned(56).toInt()>>>0;return 0==n?0==i?r<16384?r<128?1:2:r<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:n<128?9:10},r.zigZagEncode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned()),e.shiftLeft(1).xor(e.shiftRight(63)).toUnsigned()},r.zigZagDecode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned()),e.shiftRightUnsigned(1).xor(e.and(t.ONE).toSigned().negate()).toSigned()},i.writeVarint64=function(e,i){var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned());var o=r.calculateVarint64(e),s=e.toInt()>>>0,f=e.shiftRightUnsigned(28).toInt()>>>0,h=e.shiftRightUnsigned(56).toInt()>>>0;i+=o;var a=this.buffer.byteLength;switch(i>a&&this.resize((a*=2)>i?a:i),i-=o,o){case 10:this.view[i+9]=h>>>7&1;case 9:this.view[i+8]=9!==o?128|h:127&h;case 8:this.view[i+7]=8!==o?f>>>21|128:f>>>21&127;case 7:this.view[i+6]=7!==o?f>>>14|128:f>>>14&127;case 6:this.view[i+5]=6!==o?f>>>7|128:f>>>7&127;case 5:this.view[i+4]=5!==o?128|f:127&f;case 4:this.view[i+3]=4!==o?s>>>21|128:s>>>21&127;case 3:this.view[i+2]=3!==o?s>>>14|128:s>>>14&127;case 2:this.view[i+1]=2!==o?s>>>7|128:s>>>7&127;case 1:this.view[i]=1!==o?128|s:127&s}return n?(this.offset+=o,this):o},i.writeVarint64ZigZag=function(t,e){return this.writeVarint64(r.zigZagEncode64(t),e)},i.readVarint64=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i=e,n=0,o=0,s=0,f=0;if(n=127&(f=this.view[e++]),128&f&&(n|=(127&(f=this.view[e++]))<<7,(128&f||this.noAssert&&void 0===f)&&(n|=(127&(f=this.view[e++]))<<14,(128&f||this.noAssert&&void 0===f)&&(n|=(127&(f=this.view[e++]))<<21,(128&f||this.noAssert&&void 0===f)&&(o=127&(f=this.view[e++]),(128&f||this.noAssert&&void 0===f)&&(o|=(127&(f=this.view[e++]))<<7,(128&f||this.noAssert&&void 0===f)&&(o|=(127&(f=this.view[e++]))<<14,(128&f||this.noAssert&&void 0===f)&&(o|=(127&(f=this.view[e++]))<<21,(128&f||this.noAssert&&void 0===f)&&(s=127&(f=this.view[e++]),(128&f||this.noAssert&&void 0===f)&&(s|=(127&(f=this.view[e++]))<<7,128&f||this.noAssert&&void 0===f))))))))))throw Error("Buffer overrun");var h=t.fromBits(n|o<<28,o>>>4|s<<24,!1);return r?(this.offset=e,h):{value:h,length:e-i}},i.readVarint64ZigZag=function(e){var i=this.readVarint64(e);return i&&i.value instanceof t?i.value=r.zigZagDecode64(i.value):i=r.zigZagDecode64(i),i}),i.writeCString=function(t,e){var r=void 0===e;r&&(e=this.offset);var i,n=t.length;if(!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");for(i=0;i<n;++i)if(0===t.charCodeAt(i))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}n=l.calculateUTF16asUTF8(s(t))[1],e+=n+1;var o=this.buffer.byteLength;return e>o&&this.resize((o*=2)>e?o:e),e-=n+1,l.encodeUTF16toUTF8(s(t),function(t){this.view[e++]=t}.bind(this)),this.view[e++]=0,r?(this.offset=e,this):n},i.readCString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,i=t,n=-1;return l.decodeUTF8toUTF16(function(){if(0===n)return null;if(t>=this.limit)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.limit);return 0===(n=this.view[t++])?null:n}.bind(this),r=f(),!0),e?(this.offset=t,r()):{string:r(),length:t-i}},i.writeIString=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i,n=e;i=l.calculateUTF16asUTF8(s(t),this.noAssert)[1],e+=4+i;var o=this.buffer.byteLength;if(e>o&&this.resize((o*=2)>e?o:e),e-=4+i,this.littleEndian?(this.view[e+3]=i>>>24&255,this.view[e+2]=i>>>16&255,this.view[e+1]=i>>>8&255,this.view[e]=255&i):(this.view[e]=i>>>24&255,this.view[e+1]=i>>>16&255,this.view[e+2]=i>>>8&255,this.view[e+3]=255&i),e+=4,l.encodeUTF16toUTF8(s(t),function(t){this.view[e++]=t}.bind(this)),e!==n+4+i)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+4+i));return r?(this.offset=e,this):e-n},i.readIString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=t,n=this.readUint32(t),o=this.readUTF8String(n,r.METRICS_BYTES,t+=4);return t+=o.length,e?(this.offset=t,o.string):{string:o.string,length:t-i}},r.METRICS_CHARS="c",r.METRICS_BYTES="b",i.writeUTF8String=function(t,e){var r,i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var n=e;r=l.calculateUTF16asUTF8(s(t))[1],e+=r;var o=this.buffer.byteLength;return e>o&&this.resize((o*=2)>e?o:e),e-=r,l.encodeUTF16toUTF8(s(t),function(t){this.view[e++]=t}.bind(this)),i?(this.offset=e,this):e-n},i.writeString=i.writeUTF8String,r.calculateUTF8Chars=function(t){return l.calculateUTF16asUTF8(s(t))[0]},r.calculateUTF8Bytes=function(t){return l.calculateUTF16asUTF8(s(t))[1]},r.calculateString=r.calculateUTF8Bytes,i.readUTF8String=function(t,e,i){"number"==typeof e&&(i=e,e=void 0);var n=void 0===i;if(n&&(i=this.offset),void 0===e&&(e=r.METRICS_CHARS),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var o,s=0,h=i;if(e===r.METRICS_CHARS){if(o=f(),l.decodeUTF8(function(){return s<t&&i<this.limit?this.view[i++]:null}.bind(this),function(t){++s,l.UTF8toUTF16(t,o)}),s!==t)throw RangeError("Illegal range: Truncated data, "+s+" == "+t);return n?(this.offset=i,o()):{string:o(),length:i-h}}if(e===r.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+t+") <= "+this.buffer.byteLength)}var a=i+t;if(l.decodeUTF8toUTF16(function(){return i<a?this.view[i++]:null}.bind(this),o=f(),this.noAssert),i!==a)throw RangeError("Illegal range: Truncated data, "+i+" == "+a);return n?(this.offset=i,o()):{string:o(),length:i-h}}throw TypeError("Unsupported metrics: "+e)},i.readString=i.readUTF8String,i.writeVString=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var n,o,f=e;n=l.calculateUTF16asUTF8(s(t),this.noAssert)[1],o=r.calculateVarint32(n),e+=o+n;var h=this.buffer.byteLength;if(e>h&&this.resize((h*=2)>e?h:e),e-=o+n,e+=this.writeVarint32(n,e),l.encodeUTF16toUTF8(s(t),function(t){this.view[e++]=t}.bind(this)),e!==f+n+o)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+n+o));return i?(this.offset=e,this):e-f},i.readVString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,n=this.readVarint32(t),o=this.readUTF8String(n.value,r.METRICS_BYTES,t+=n.length);return t+=o.length,e?(this.offset=t,o.string):{string:o.string,length:t-i}},i.append=function(t,e,i){"number"!=typeof e&&"string"==typeof e||(i=e,e=void 0);var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}t instanceof r||(t=r.wrap(t,e));var o=t.limit-t.offset;if(o<=0)return this;i+=o;var s=this.buffer.byteLength;return i>s&&this.resize((s*=2)>i?s:i),i-=o,this.view.set(t.view.subarray(t.offset,t.limit),i),t.offset+=o,n&&(this.offset+=o),this},i.appendTo=function(t,e){return t.append(this,e),this},i.assert=function(t){return this.noAssert=!t,this},i.capacity=function(){return this.buffer.byteLength},i.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},i.clone=function(t){var e=new r(0,this.littleEndian,this.noAssert);return t?(e.buffer=new ArrayBuffer(this.buffer.byteLength),e.view=new Uint8Array(e.buffer)):(e.buffer=this.buffer,e.view=this.view),e.offset=this.offset,e.markedOffset=this.markedOffset,e.limit=this.limit,e},i.compact=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;var r=e-t;if(0===r)return this.buffer=n,this.view=null,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(r),o=new Uint8Array(i);return o.set(this.view.subarray(t,e)),this.buffer=i,this.view=o,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=r,this},i.copy=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(t===e)return new r(0,this.littleEndian,this.noAssert);var i=e-t,n=new r(i,this.littleEndian,this.noAssert);return n.offset=0,n.limit=i,n.markedOffset>=0&&(n.markedOffset-=t),this.copyTo(n,0,t,e),n},i.copyTo=function(t,e,i,n){var o,s;if(!this.noAssert&&!r.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(e=(s=void 0===e)?t.offset:0|e,i=(o=void 0===i)?this.offset:0|i,n=void 0===n?this.limit:0|n,e<0||e>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+e+" <= "+t.buffer.byteLength);if(i<0||n>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+i+" <= "+this.buffer.byteLength);var f=n-i;return 0===f?t:(t.ensureCapacity(e+f),t.view.set(this.view.subarray(i,n),e),o&&(this.offset+=f),s&&(t.offset+=f),this)},i.ensureCapacity=function(t){var e=this.buffer.byteLength;return e<t?this.resize((e*=2)>t?e:t):this},i.fill=function(t,e,r){var i=void 0===e;if(i&&(e=this.offset),"string"==typeof t&&t.length>0&&(t=t.charCodeAt(0)),void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(e>=r)return this;for(;e<r;)this.view[e++]=t;return i&&(this.offset=e),this},i.flip=function(){return this.limit=this.offset,this.offset=0,this},i.mark=function(t){if(t=void 0===t?this.offset:t,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this},i.order=function(t){if(!this.noAssert&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},i.LE=function(t){return this.littleEndian=void 0===t||!!t,this},i.BE=function(t){return this.littleEndian=void 0!==t&&!t,this},i.prepend=function(t,e,i){"number"!=typeof e&&"string"==typeof e||(i=e,e=void 0);var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}t instanceof r||(t=r.wrap(t,e));var o=t.limit-t.offset;if(o<=0)return this;var s=o-i;if(s>0){var f=new ArrayBuffer(this.buffer.byteLength+s),h=new Uint8Array(f);h.set(this.view.subarray(i,this.buffer.byteLength),o),this.buffer=f,this.view=h,this.offset+=s,this.markedOffset>=0&&(this.markedOffset+=s),this.limit+=s,i+=s}else new Uint8Array(this.buffer);return this.view.set(t.view.subarray(t.offset,t.limit),i-o),t.offset=t.limit,n&&(this.offset-=o),this},i.prependTo=function(t,e){return t.prepend(this,e),this},i.printDebug=function(t){"function"!=typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},i.remaining=function(){return this.limit-this.offset},i.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},i.resize=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if((t|=0)<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var e=new ArrayBuffer(t),r=new Uint8Array(e);r.set(this.view),this.buffer=e,this.view=r}return this},i.reverse=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e?this:(Array.prototype.reverse.call(this.view.subarray(t,e)),this)},i.skip=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.noAssert&&(e<0||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this},i.slice=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=t,r.limit=e,r},i.toBuffer=function(t){var e=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(!t&&0===e&&r===this.buffer.byteLength)return this.buffer;if(e===r)return n;var i=new ArrayBuffer(r-e);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(e,r),0),i},i.toArrayBuffer=i.toBuffer,i.toString=function(t,e,r){if(void 0===t)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof t&&(r=e=t="utf8"),t){case"utf8":return this.toUTF8(e,r);case"base64":return this.toBase64(e,r);case"hex":return this.toHex(e,r);case"binary":return this.toBinary(e,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}};var u=function(){for(var t={},e=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],i=0,n=e.length;i<n;++i)r[e[i]]=i;return t.encode=function(t,r){for(var i,n;null!==(i=t());)r(e[i>>2&63]),n=(3&i)<<4,null!==(i=t())?(r(e[63&((n|=i>>4&15)|i>>4&15)]),n=(15&i)<<2,null!==(i=t())?(r(e[63&(n|i>>6&3)]),r(e[63&i])):(r(e[63&n]),r(61))):(r(e[63&n]),r(61),r(61))},t.decode=function(t,e){var i,n,o;function s(t){throw Error("Illegal character code: "+t)}for(;null!==(i=t());)if(void 0===(n=r[i])&&s(i),null!==(i=t())&&(void 0===(o=r[i])&&s(i),e(n<<2>>>0|(48&o)>>4),null!==(i=t()))){if(void 0===(n=r[i])){if(61===i)break;s(i)}if(e((15&o)<<4>>>0|(60&n)>>2),null!==(i=t())){if(void 0===(o=r[i])){if(61===i)break;s(i)}e((3&n)<<6>>>0|o)}}},t.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)},t}();i.toBase64=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity||t>e)throw RangeError("begin, end");var r;return u.encode(function(){return t<e?this.view[t++]:null}.bind(this),r=f()),r()},r.fromBase64=function(t,e){if("string"!=typeof t)throw TypeError("str");var i=new r(t.length/4*3,e),n=0;return u.decode(s(t),function(t){i.view[n++]=t}),i.limit=n,i},r.btoa=function(t){return r.fromBinary(t).toBase64()},r.atob=function(t){return r.fromBase64(t).toBinary()},i.toBinary=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity()||t>e)throw RangeError("begin, end");if(t===e)return"";for(var r=[],i=[];t<e;)r.push(this.view[t++]),r.length>=1024&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},r.fromBinary=function(t,e){if("string"!=typeof t)throw TypeError("str");for(var i,n=0,o=t.length,s=new r(o,e);n<o;){if((i=t.charCodeAt(n))>255)throw RangeError("illegal char code: "+i);s.view[n++]=i}return s.limit=o,s},i.toDebug=function(t){for(var e,r=-1,i=this.buffer.byteLength,n="",o="",s="";r<i;){if(-1!==r&&(n+=(e=this.view[r])<16?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(o+=e>32&&e<127?String.fromCharCode(e):".")),++r,t&&r>0&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";s+=n+o+"\n",n=o=""}r===this.offset&&r===this.limit?n+=r===this.markedOffset?"!":"|":r===this.offset?n+=r===this.markedOffset?"[":"<":r===this.limit?n+=r===this.markedOffset?"]":">":n+=r===this.markedOffset?"'":t||0!==r&&r!==i?" ":""}if(t&&" "!==n){for(;n.length<51;)n+=" ";s+=n+o+"\n"}return t?s:n},r.fromDebug=function(t,e,i){for(var n,o,s=t.length,f=new r((s+1)/3|0,e,i),h=0,a=0,u=!1,l=!1,g=!1,c=!1,w=!1;h<s;){switch(n=t.charAt(h++)){case"!":if(!i){if(l||g||c){w=!0;break}l=g=c=!0}f.offset=f.markedOffset=f.limit=a,u=!1;break;case"|":if(!i){if(l||c){w=!0;break}l=c=!0}f.offset=f.limit=a,u=!1;break;case"[":if(!i){if(l||g){w=!0;break}l=g=!0}f.offset=f.markedOffset=a,u=!1;break;case"<":if(!i){if(l){w=!0;break}l=!0}f.offset=a,u=!1;break;case"]":if(!i){if(c||g){w=!0;break}c=g=!0}f.limit=f.markedOffset=a,u=!1;break;case">":if(!i){if(c){w=!0;break}c=!0}f.limit=a,u=!1;break;case"'":if(!i){if(g){w=!0;break}g=!0}f.markedOffset=a,u=!1;break;case" ":u=!1;break;default:if(!i&&u){w=!0;break}if(o=parseInt(n+t.charAt(h++),16),!i&&(isNaN(o)||o<0||o>255))throw TypeError("Illegal str: Not a debug encoded string");f.view[a++]=o,u=!0}if(w)throw TypeError("Illegal str: Invalid symbol at "+h)}if(!i){if(!l||!c)throw TypeError("Illegal str: Missing offset or limit");if(a<f.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+a+" < "+s)}return f},i.toHex=function(t,e){if(t=void 0===t?this.offset:t,e=void 0===e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}for(var r,i=new Array(e-t);t<e;)(r=this.view[t++])<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},r.fromHex=function(t,e,i){if(!i){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var n,o=t.length,s=new r(o/2|0,e),f=0,h=0;f<o;f+=2){if(n=parseInt(t.substring(f,f+2),16),!i&&(!isFinite(n)||n<0||n>255))throw TypeError("Illegal str: Contains non-hex characters");s.view[h++]=n}return s.limit=h,s};var l=function(){var t={MAX_CODEPOINT:1114111,encodeUTF8:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<128?e(127&r):r<2048?(e(r>>6&31|192),e(63&r|128)):r<65536?(e(r>>12&15|224),e(r>>6&63|128),e(63&r|128)):(e(r>>18&7|240),e(r>>12&63|128),e(r>>6&63|128),e(63&r|128)),r=null},decodeUTF8:function(t,e){for(var r,i,n,o,s=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(r=t());)if(0==(128&r))e(r);else if(192==(224&r))null===(i=t())&&s([r,i]),e((31&r)<<6|63&i);else if(224==(240&r))(null===(i=t())||null===(n=t()))&&s([r,i,n]),e((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=t())||null===(n=t())||null===(o=t()))&&s([r,i,n,o]),e((7&r)<<18|(63&i)<<12|(63&n)<<6|63&o)}},UTF16toUTF8:function(t,e){for(var r,i=null;null!==(r=null!==i?i:t());)r>=55296&&r<=57343&&null!==(i=t())&&i>=56320&&i<=57343?(e(1024*(r-55296)+i-56320+65536),i=null):e(r);null!==i&&e(i)},UTF8toUTF16:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<=65535?e(r):(e(55296+((r-=65536)>>10)),e(r%1024+56320)),r=null},encodeUTF16toUTF8:function(e,r){t.UTF16toUTF8(e,function(e){t.encodeUTF8(e,r)})},decodeUTF8toUTF16:function(e,r){t.decodeUTF8(e,function(e){t.UTF8toUTF16(e,r)})},calculateCodePoint:function(t){return t<128?1:t<2048?2:t<65536?3:4},calculateUTF8:function(t){for(var e,r=0;null!==(e=t());)r+=e<128?1:e<2048?2:e<65536?3:4;return r},calculateUTF16asUTF8:function(e){var r=0,i=0;return t.UTF16toUTF8(e,function(t){++r,i+=t<128?1:t<2048?2:t<65536?3:4}),[r,i]}};return t}();return i.toUTF8=function(t,r){if(void 0===t&&(t=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}var i;try{l.decodeUTF8toUTF16(function(){return t<r?this.view[t++]:null}.bind(this),i=f())}catch(e){if(t!==r)throw RangeError("Illegal range: Truncated data, "+t+" != "+r)}return i()},r.fromUTF8=function(t,e,i){if(!i&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");var n=new r(l.calculateUTF16asUTF8(s(t),!0)[1],e,i),o=0;return l.encodeUTF16toUTF8(s(t),function(t){n.view[o++]=t}),n.limit=o,n},r},s&&s.exports?s.exports=function(){var t;try{t=n}catch(e){}return o(t)}():(this.dcodeIO=this.dcodeIO||{}).ByteBuffer=o(this.dcodeIO.Long),s=s.exports;for(var f=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var n=t.charAt(i),o=n.charCodeAt(0);if(255!==e[o])throw new TypeError(n+" is ambiguous");e[o]=i}var s=t.length,f=t.charAt(0),h=Math.log(s)/Math.log(256),a=Math.log(256)/Math.log(s);function u(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,i=0,n=0;t[r]===f;)i++,r++;for(var o=(t.length-r)*h+1>>>0,a=new Uint8Array(o);t[r];){var u=e[t.charCodeAt(r)];if(255===u)return;for(var l=0,g=o-1;(0!==u||l<n)&&-1!==g;g--,l++)u+=s*a[g]>>>0,a[g]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");n=l,r++}for(var c=o-n;c!==o&&0===a[c];)c++;for(var w=new Uint8Array(i+(o-c)),y=i;c!==o;)w[y++]=a[c++];return w}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,i=0,n=0,o=e.length;n!==o&&0===e[n];)n++,r++;for(var h=(o-n)*a+1>>>0,u=new Uint8Array(h);n!==o;){for(var l=e[n],g=0,c=h-1;(0!==l||g<i)&&-1!==c;c--,g++)l+=256*u[c]>>>0,u[c]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");i=g,n++}for(var w=h-i;w!==h&&0===u[w];)w++;for(var y=f.repeat(r);w<h;++w)y+=t.charAt(u[w]);return y},decodeUnsafe:u,decode:function(t){var e=u(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),h={node:"https://api.hive.blog",chain_id:"beeab0de00000000000000000000000000000000000000000000000000000000",address_prefix:"STM"},a={toByteArray:function(t){var e,r,i=p(t),n=i[0],o=i[1],s=new g(function(t,e,r){return 3*(e+r)/4-r}(0,n,o)),f=0,h=o>0?n-4:n;for(r=0;r<h;r+=4)e=l[t.charCodeAt(r)]<<18|l[t.charCodeAt(r+1)]<<12|l[t.charCodeAt(r+2)]<<6|l[t.charCodeAt(r+3)],s[f++]=e>>16&255,s[f++]=e>>8&255,s[f++]=255&e;return 2===o&&(e=l[t.charCodeAt(r)]<<2|l[t.charCodeAt(r+1)]>>4,s[f++]=255&e),1===o&&(e=l[t.charCodeAt(r)]<<10|l[t.charCodeAt(r+1)]<<4|l[t.charCodeAt(r+2)]>>2,s[f++]=e>>8&255,s[f++]=255&e),s},fromByteArray:function(t){for(var e,r=t.length,i=r%3,n=[],o=0,s=r-i;o<s;o+=16383)n.push(d(t,o,o+16383>s?s:o+16383));return 1===i?(e=t[r-1],n.push(u[e>>2]+u[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],n.push(u[e>>10]+u[e>>4&63]+u[e<<2&63]+"=")),n.join("")}},u=[],l=[],g="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0,y=c.length;w<y;++w)u[w]=c[w],l[c.charCodeAt(w)]=w;function p(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function d(t,e,r){for(var i,n,o=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(u[(n=i)>>18&63]+u[n>>12&63]+u[n>>6&63]+u[63&n]);return o.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63;var v={read:function(t,e,r,i,n){var o,s,f=8*n-i-1,h=(1<<f)-1,a=h>>1,u=-7,l=r?n-1:0,g=r?-1:1,c=t[e+l];for(l+=g,o=c&(1<<-u)-1,c>>=-u,u+=f;u>0;o=256*o+t[e+l],l+=g,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+t[e+l],l+=g,u-=8);if(0===o)o=1-a;else{if(o===h)return s?NaN:1/0*(c?-1:1);s+=Math.pow(2,i),o-=a}return(c?-1:1)*s*Math.pow(2,o-i)},write:function(t,e,r,i,n,o){var s,f,h,a=8*o-n-1,u=(1<<a)-1,l=u>>1,g=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,c=i?0:o-1,w=i?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-s))<1&&(s--,h*=2),(e+=s+l>=1?g/h:g*Math.pow(2,1-l))*h>=2&&(s++,h/=2),s+l>=u?(f=0,s=u):s+l>=1?(f=(e*h-1)*Math.pow(2,n),s+=l):(f=e*Math.pow(2,l-1)*Math.pow(2,n),s=0));n>=8;t[r+c]=255&f,c+=w,f/=256,n-=8);for(s=s<<n|f,a+=n;a>0;t[r+c]=255&s,c+=w,s/=256,a-=8);t[r+c-w]|=128*y}},b={};(function(t){const e=h.address_prefix;class r{static fromString(t){const{key:e,prefix:n}=i(t);return new r(e,n)}static from(t){return t instanceof r?t:r.fromString(t)}constructor(t,r=e){this.key=t,this.prefix=r}}const i=e=>{const r=e.slice(0,3);return e=e.slice(3),{key:t.from(f.decode(e)).slice(0,-4),prefix:r}};b=r}).call(this,i({}).Buffer);class m{static fromString(t,e=null){const[r,i]=t.split(" ");if(e&&i!==e)throw new Error(`Invalid asset, expected symbol: ${e} got: ${i}`);const n=Number.parseFloat(r);if(!Number.isFinite(n))throw new Error(`Invalid asset amount: ${r}`);return new m(n,i)}static from(t,e=null){if(t instanceof m){if(e&&t.symbol!==e)throw new Error(`Invalid asset, expected symbol: ${e} got: ${t.symbol}`);return t}if("number"==typeof t&&Number.isFinite(t))return new m(t,e||"STEEM");if("string"==typeof t)return m.fromString(t,e);throw new Error(`Invalid asset '${String(t)}'`)}constructor(t,e){this.amount=t,this.symbol="HIVE"===e?"STEEM":"HBD"===e?"SBD":e}getPrecision(){switch(this.symbol){case"VESTS":return 6;default:return 3}}toString(){return`${this.amount.toFixed(this.getPrecision())} ${this.symbol}`}toJSON(){return this.toString()}}var E=m,I={};(function(t){class e{static from(r){return r instanceof e?r:new e(r instanceof t?r:"string"==typeof r?t.from(r,"hex"):t.from(r))}constructor(t){this.buffer=t}toString(t="hex"){return this.buffer.toString(t)}toJSON(){return this.toString()}}I=e}).call(this,i({}).Buffer);var T={};(function(t){const e=()=>{throw new Error("Void can not be serialized")},r=(t,e)=>{t.writeVString(e)},i=(t,e)=>{t.writeInt16(e)},n=(t,e)=>{t.writeInt64(e)},o=(t,e)=>{t.writeUint16(e)},s=(t,e)=>{t.writeUint32(e)},f=(t,e)=>{t.writeUint64(e)},h=(t,e)=>{t.writeByte(e?1:0)},a=t=>(e,r)=>{const[i,n]=r;e.writeVarint32(i),t[i](e,n)},u=(t,e)=>{const r=E.from(e),i=r.getPrecision();t.writeInt64(Math.round(r.amount*Math.pow(10,i))),t.writeUint8(i);for(let n=0;n<7;n++)t.writeUint8(r.symbol.charCodeAt(n)||0)},l=(t,e)=>{t.writeUint32(Math.floor(new Date(e+"Z").getTime()/1e3))},g=(e,r)=>{null===r||"string"==typeof r&&"1111111111111111111111111111111114T1Anm"===r.slice(-39)?e.append(t.alloc(33,0)):e.append(b.from(r).key)},c=(t=null)=>(e,r)=>{const i=(r=I.from(r)).buffer.length;if(t){if(i!==t)throw new Error(`Unable to serialize binary. Expected ${t} bytes, got ${i}`)}else e.writeVarint32(i);e.append(r.buffer)},w=c(),y=(t,e)=>(r,i)=>{r.writeVarint32(i.length);for(const[n,o]of i)t(r,n),e(r,o)},p=t=>(e,r)=>{e.writeVarint32(r.length);for(const i of r)t(e,i)},d=t=>(e,r)=>{for(const[n,o]of t)try{o(e,r[n])}catch(i){throw i.message=`${n}: ${i.message}`,i}},v=t=>(e,r)=>{void 0!==r?(e.writeByte(1),t(e,r)):e.writeByte(0)},m=d([["weight_threshold",s],["account_auths",y(r,o)],["key_auths",y(g,o)]]),_=d([["account",r],["weight",o]]),A=d([["base",u],["quote",u]]),U=d([["previous",c(20)],["timestamp",l],["witness",r],["transaction_merkle_root",c(20)],["extensions",p(e)],["witness_signature",c(65)]]),L=d([["account_creation_fee",u],["maximum_block_size",s],["hbd_interest_rate",o]]),B=(t,e)=>{const r=d(e);return(e,i)=>{e.writeVarint32(t),r(e,i)}},S={};S.account_create=B(9,[["fee",u],["creator",r],["new_account_name",r],["owner",m],["active",m],["posting",m],["memo_key",g],["json_metadata",r]]),S.account_create_with_delegation=B(41,[["fee",u],["delegation",u],["creator",r],["new_account_name",r],["owner",m],["active",m],["posting",m],["memo_key",g],["json_metadata",r],["extensions",p(e)]]),S.account_update=B(10,[["account",r],["owner",v(m)],["active",v(m)],["posting",v(m)],["memo_key",g],["json_metadata",r]]),S.account_witness_proxy=B(13,[["account",r],["proxy",r]]),S.account_witness_vote=B(12,[["account",r],["witness",r],["approve",h]]),S.cancel_transfer_from_savings=B(34,[["from",r],["request_id",s]]),S.change_recovery_account=B(26,[["account_to_recover",r],["new_recovery_account",r],["extensions",p(e)]]),S.claim_account=B(22,[["creator",r],["fee",u],["extensions",p(e)]]),S.claim_reward_balance=B(39,[["account",r],["reward_hive",u],["reward_hbd",u],["reward_vests",u]]),S.comment=B(1,[["parent_author",r],["parent_permlink",r],["author",r],["permlink",r],["title",r],["body",r],["json_metadata",r]]),S.comment_options=B(19,[["author",r],["permlink",r],["max_accepted_payout",u],["percent_hbd",o],["allow_votes",h],["allow_curation_rewards",h],["extensions",p(a([d([["beneficiaries",p(_)]])]))]]),S.convert=B(8,[["owner",r],["requestid",s],["amount",u]]),S.create_claimed_account=B(23,[["creator",r],["new_account_name",r],["owner",m],["active",m],["posting",m],["memo_key",g],["json_metadata",r],["extensions",p(e)]]),S.custom=B(15,[["required_auths",p(r)],["id",o],["data",w]]),S.custom_binary=B(35,[["required_owner_auths",p(r)],["required_active_auths",p(r)],["required_posting_auths",p(r)],["required_auths",p(m)],["id",r],["data",w]]),S.custom_json=B(18,[["required_auths",p(r)],["required_posting_auths",p(r)],["id",r],["json",r]]),S.decline_voting_rights=B(36,[["account",r],["decline",h]]),S.delegate_vesting_shares=B(40,[["delegator",r],["delegatee",r],["vesting_shares",u]]),S.delete_comment=B(17,[["author",r],["permlink",r]]),S.escrow_approve=B(31,[["from",r],["to",r],["agent",r],["who",r],["escrow_id",s],["approve",h]]),S.escrow_dispute=B(28,[["from",r],["to",r],["agent",r],["who",r],["escrow_id",s]]),S.escrow_release=B(29,[["from",r],["to",r],["agent",r],["who",r],["receiver",r],["escrow_id",s],["hbd_amount",u],["hive_amount",u]]),S.escrow_transfer=B(27,[["from",r],["to",r],["agent",r],["escrow_id",s],["hbd_amount",u],["hive_amount",u],["fee",u],["ratification_deadline",l],["escrow_expiration",l],["json_meta",r]]),S.feed_publish=B(7,[["publisher",r],["exchange_rate",A]]),S.limit_order_cancel=B(6,[["owner",r],["orderid",s]]),S.limit_order_create=B(5,[["owner",r],["orderid",s],["amount_to_sell",u],["min_to_receive",u],["fill_or_kill",h],["expiration",l]]),S.limit_order_create2=B(21,[["owner",r],["orderid",s],["amount_to_sell",u],["fill_or_kill",h],["exchange_rate",A],["expiration",l]]),S.recover_account=B(25,[["account_to_recover",r],["new_owner_authority",m],["recent_owner_authority",m],["extensions",p(e)]]),S.report_over_production=B(16,[["reporter",r],["first_block",U],["second_block",U]]),S.request_account_recovery=B(24,[["recovery_account",r],["account_to_recover",r],["new_owner_authority",m],["extensions",p(e)]]),S.reset_account=B(37,[["reset_account",r],["account_to_reset",r],["new_owner_authority",m]]),S.set_reset_account=B(38,[["account",r],["current_reset_account",r],["reset_account",r]]),S.set_withdraw_vesting_route=B(20,[["from_account",r],["to_account",r],["percent",o],["auto_vest",h]]),S.transfer=B(2,[["from",r],["to",r],["amount",u],["memo",r]]),S.transfer_from_savings=B(33,[["from",r],["request_id",s],["to",r],["amount",u],["memo",r]]),S.transfer_to_savings=B(32,[["from",r],["to",r],["amount",u],["memo",r]]),S.transfer_to_vesting=B(3,[["from",r],["to",r],["amount",u]]),S.vote=B(0,[["voter",r],["author",r],["permlink",r],["weight",i]]),S.withdraw_vesting=B(4,[["account",r],["vesting_shares",u]]),S.witness_update=B(11,[["owner",r],["url",r],["block_signing_key",g],["props",L],["fee",u]]),S.witness_set_properties=B(42,[["owner",r],["props",y(r,w)],["extensions",p(e)]]),S.account_update2=B(43,[["account",r],["owner",v(m)],["active",v(m)],["posting",v(m)],["memo_key",v(g)],["json_metadata",r],["posting_json_metadata",r],["extensions",p(e)]]),S.create_proposal=B(44,[["creator",r],["receiver",r],["start_date",l],["end_date",l],["daily_pay",u],["subject",r],["permlink",r],["extensions",p(e)]]),S.update_proposal_votes=B(45,[["voter",r],["proposal_ids",p(n)],["approve",h],["extensions",p(e)]]),S.remove_proposal=B(46,[["proposal_owner",r],["proposal_ids",p(n)],["extensions",p(e)]]);const R=d([["end_date",l]]);S.update_proposal=B(47,[["proposal_id",f],["creator",r],["daily_pay",u],["subject",r],["permlink",r],["extensions",p(a([e,R]))]]),S.collateralized_convert=B(48,[["owner",r],["requestid",s],["amount",u]]),S.recurrent_transfer=B(49,[["from",r],["to",r],["amount",u],["memo",r],["recurrence",o],["executions",o],["extensions",p(e)]]);const N=(t,e)=>{const r=S[e[0]];if(!r)throw new Error(`No serializer for operation: ${e[0]}`);try{r(t,e[1])}catch(i){throw i.message=`${e[0]}: ${i.message}`,i}},x=d([["ref_block_num",o],["ref_block_prefix",s],["expiration",l],["operations",p(N)],["extensions",p(r)]]);T={Array:p,Asset:u,Authority:m,Binary:c,Boolean:h,Date:l,FlatMap:y,Int16:i,Int32:(t,e)=>{t.writeInt32(e)},Int64:n,Int8:(t,e)=>{t.writeInt8(e)},Object:d,Operation:N,Optional:v,Price:A,PublicKey:g,StaticVariant:a,String:r,Transaction:x,UInt16:o,UInt32:s,UInt64:f,UInt8:(t,e)=>{t.writeUint8(e)},Void:e}}).call(this,i({}).Buffer);var _={};(function(t){_=(()=>t.from(h.chain_id,"hex"))}).call(this,i({}).Buffer);var A={};(function(t){A={transactionDigest:(e,r,i=_())=>{const n=new s(s.DEFAULT_CAPACITY,s.LITTLE_ENDIAN);try{T.Transaction(n,r)}catch(h){throw new Error("Unable to serialize transaction")}n.flip();const o=t.from(n.toBuffer()),f=e(o).toString("hex").slice(0,40);return{digest:e(t.concat([i,o])),txId:f}}}}).call(this,i({}).Buffer);var U=async(t,e=[],r="",i=10)=>{let n=0;return new Promise((o,s)=>{fetch(r||h.node,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:t,params:e,id:1})}).then(t=>{t&&200===t.status&&(n=1,t.json().then(t=>o(t)))}),setTimeout(()=>{n||s(new Error("Network timeout."))},1e3*i)})},L={};(function(t){L=(async(e,r,i)=>{const n=r?1e3*r:6e4,o=await(async t=>{const e=await U("condenser_api.get_dynamic_global_properties",[],t);if(!e)throw new Error("Couldn't resolve global properties");if(e&&(!e.id||!e.result))throw new Error("Bad response @ global props");return e.result})(i),s=65535&o.head_block_number,f=t.from(o.head_block_id,"hex").readUInt32LE(4);return{expiration:new Date(Date.now()+n).toISOString().slice(0,-5),extensions:[],operations:e,ref_block_num:s,ref_block_prefix:f}})}).call(this,i({}).Buffer);var B={};return function(t){const{transactionDigest:e}=A;B={Transaction:class{constructor(e,r=null,i=_()){"string"==typeof i&&(i=t.from(i,"hex")),this.created=!0,r||(this.created=!1),this.transaction=r,this.chainId=i,this.sha256Lib=e}async create(t,e=60,r=""){return this.transaction=await L(t,e,r),this.created=!0,this.transaction}serialize(){if(!this.created)throw new Error("First create a transaction by .create(operations)");const{digest:t,txId:r}=e(this.sha256Lib,this.transaction,this.chainId);return this.txId=r,t}appendSignature(t){if(!this.created)throw new Error("First create a transaction by .create(operations)");if(!this.txId)throw new Error("Tx id not available yet, serialize() first to generate digest to be signed");this.signedTransaction||(this.signedTransaction={...this.transaction},this.signedTransaction.signatures||(this.signedTransaction.signatures=[])),this.signedTransaction.signatures.push(t)}async broadcast(t=""){if(!this.created)throw new Error("First create a transaction by .create(operations)");if(!this.signedTransaction)throw new Error("Sign transaction first and append signature with appendSignature()");const e=await(async(t,e="")=>await U("condenser_api.broadcast_transaction",[t],e))(this.signedTransaction,t);return e.error?e:{id:1,jsonrpc:"2.0",result:{tx_id:this.txId,status:"unknown"}}}},call:U,config:h}}.call(this,i({}).Buffer),B});